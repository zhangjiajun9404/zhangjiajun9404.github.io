System.register("chunks:///_virtual/AIManagerBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./ECS.ts","./EChessRecord.ts","./EChessboardRecord.ts","./SingletonModuleComp.ts","./EPlayerRecord.ts"],(function(e){"use strict";var t,s,n,i,r,a,o,h,l;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){n=e.ArrayUtil},function(e){i=e.ecs},function(e){r=e.EMoveDirection},function(e){a=e.EBoardPointType,o=e.ESpecialMoveType},function(e){h=e.smc},function(e){l=e.EAIPlayerType}],execute:function(){var c;s._RF.push({},"752ffT0nNtAkrBeafNg+M5F","AIManagerBll",void 0);var C=e("AIManagerBllComp",i.register("AIManagerBll")(c=function(e){function s(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).player=null,t.AIType=l.Calm,t._canMoveChess=[],t._targetPoint=[],t._CanflyChess=null,t._CanJumpChess=null,t._step=null,t._direction=r.None,t._hitChess=[],t}t(s,e);var i=s.prototype;return i.selectMoveChess=function(){var e=this.getActionChess();e?e.selectChess():this._canMoveChess[0].selectChess()},i.getActionChess=function(){if(this.checkCanMoveChess(),1==this._canMoveChess.length)return this._canMoveChess[0];var e=null;switch(this.AIType){case l.Stupid:return this._canMoveChess[0];case l.Goodness:return this.calculateTargetPoint(),(e=this.getCannotHitChess())||this.getCanPrepareChess();case l.Cold:return this.calculateTargetPoint(),(e=this.getCanHitChess())||this.getCanPrepareChess();case l.Strange:return n.getRandomValueInArray(this._canMoveChess);case l.Calm:return this.calculateTargetPoint(),(e=this.getCanArriveEnd())||(e=this.getCanPrepareChess()),e||(e=this._CanflyChess),e||(e=this._CanJumpChess),e||(e=this.getArriveSingleChess()),e||(e=this.getCannotBackChess()),e}},i.getCannotBackChess=function(){for(var e=0;e<this._targetPoint.length;e++)if(this._targetPoint[e].Type!==a.Single)return this._canMoveChess[e]},i.getArriveSingleChess=function(){for(var e=0;e<this._canMoveChess.length;e++)if(this._targetPoint[e].Type===a.Single&&this._canMoveChess[e].stayPoint.Type===a.Common)return this._canMoveChess[e]},i.getCanArriveEnd=function(){for(var e=0;e<this._targetPoint.length;e++)if(this._targetPoint[e].SpecialType===o.End)return this._canMoveChess[e]},i.getCanPrepareChess=function(){for(var e=0;e<this._targetPoint.length;e++)if(this._targetPoint[e].SpecialType===o.Prepare)return this._canMoveChess[e]},i.getCannotHitChess=function(){for(var e=0;e<this._targetPoint.length;e++)if(!this.isCanHitChess(this.player.PlayerModel.camp,this._targetPoint[e]))return this._canMoveChess[e]},i.getCanHitChess=function(){for(var e=0;e<this._targetPoint.length;e++)if(this.isCanHitChess(this.player.PlayerModel.camp,this._targetPoint[e]))return this._canMoveChess[e]},i.isCanHitChess=function(e,t){this._hitChess=h.room.chessboard.getPointChess(t);for(var s=0;s<this._hitChess.length;s++)if(this._hitChess[s].ChessModel.camp!==e)return!0;return!1},i.calculateTargetPoint=function(){this._targetPoint.length=0,this._CanflyChess=null,this._CanJumpChess=null;for(var e=0;e<this._canMoveChess.length;e++){var t=this._canMoveChess[e],s=t.stayPoint;for(this._step=h.room.diceScore,this._direction=r.Forward;this._step>0;)(s=this._direction===r.Forward?h.room.chessboard.PathFindBll.getNextMovePoint(t.ChessModel.camp,s):h.room.chessboard.PathFindBll.getLastMovePoint(t.ChessModel.camp,s)).SpecialType===o.End?this._direction=r.Back:s.SpecialType===o.Prepare&&this._step,this._step--;this._direction===r.Forward&&(s.SpecialType===o.Fly&&(s=h.room.chessboard.PathFindBll.getLongDistanceMovePoint(s),this._CanflyChess=t),s.Type===a.Common&&s.Camp===t.ChessModel.camp&&s.SpecialType!==o.Turn&&(s=h.room.chessboard.PathFindBll.getShortMovePoint(s),this._CanJumpChess=t,s.SpecialType===o.Fly&&(s=h.room.chessboard.PathFindBll.getLongDistanceMovePoint(s),this._CanflyChess=t))),this._targetPoint.push(s)}},i.checkCanMoveChess=function(){this._canMoveChess.length=0;for(var e=0;e<this.player.PlayerModel.chess.length;e++)this.player.PlayerModel.chess[e].isCanAction&&this._canMoveChess.push(this.player.PlayerModel.chess[e])},i.reset=function(){this.player=null},s}(i.Comp))||c);e("AIManagerBllSystem",function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var n=s.prototype;return n.filter=function(){return i.allOf(C)},n.entityEnter=function(e){e.AIManagerBll.player=e},s}(i.ComblockSystem));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){"use strict";var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);r("ArrayUtil",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var e=!1,o=0;o<n.length;o++)if(r[t]==n[o]){e=!0;break}e||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),e=r[n];r[n]=r[t],r[t]=e}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeItem=function(r,n){for(var t=r.concat(),e=0;e<t.length;e++){if(n==t[e]){r.splice(e,1);break}}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){"use strict";var n,i,e,u;return{setters:[function(s){n=s.createClass},function(s){i=s.cclegacy,e=s.warn,u=s.log}],execute:function(){i._RF.push({},"8c48bBN521JzIxhITJunFji","AsyncQueue",void 0),s("AsyncQueue",function(){function s(){this._runningAsyncTask=null,this._queues=[],this._isProcessingTaskUUID=0,this._enable=!0,this.complete=null}var i=s.prototype;return i.push=function(n,i){void 0===i&&(i=null);var e=s._$uuid_count++;return this._queues.push({uuid:e,callbacks:[n],params:i}),e},i.pushMulti=function(n){for(var i=s._$uuid_count++,e=arguments.length,u=new Array(e>1?e-1:0),t=1;t<e;t++)u[t-1]=arguments[t];return this._queues.push({uuid:i,callbacks:u,params:n}),i},i.remove=function(s){var n;if((null==(n=this._runningAsyncTask)?void 0:n.uuid)!==s){for(var i=0;i<this._queues.length;i++)if(this._queues[i].uuid===s){this._queues.splice(i,1);break}}else e("正在执行的任务不可以移除")},i.clear=function(){this._queues=[],this._isProcessingTaskUUID=0,this._runningAsyncTask=null},i.step=function(){this.isProcessing&&this.next(this._isProcessingTaskUUID)},i.play=function(s){var n=this;if(void 0===s&&(s=null),!this.isProcessing&&this._enable){var i=this._queues.shift();if(i){this._runningAsyncTask=i;var e=i.uuid;this._isProcessingTaskUUID=e;var u=i.callbacks;if(1==u.length){u[0]((function(s){void 0===s&&(s=null),n.next(e,s)}),i.params,s)}else for(var t=u.length,r=[],c=function(s){void 0===s&&(s=null),--t,r.push(s||null),0===t&&n.next(e,r)},l=t,a=0;a<l;a++)u[a](c,i.params,s)}else this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.complete&&this.complete(s)}},i.yieldTime=function(s,n){void 0===n&&(n=null);this.push((function(i,e,u){var t=setTimeout((function(){clearTimeout(t),n&&n(),i(u)}),s)}),{des:"AsyncQueue.yieldTime"})},i.next=function(s,n){void 0===n&&(n=null),this._isProcessingTaskUUID===s?(this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.play(n)):this._runningAsyncTask&&u(this._runningAsyncTask)},s.excuteTimes=function(s,n){void 0===n&&(n=null);var i=s;return function(){0===--i&&n&&n()}},n(s,[{key:"queues",get:function(){return this._queues}},{key:"enable",get:function(){return this._enable},set:function(s){this._enable!==s&&(this._enable=s,s&&this.size>0&&this.play())}},{key:"size",get:function(){return this._queues.length}},{key:"isProcessing",get:function(){return this._isProcessingTaskUUID>0}},{key:"isStop",get:function(){return!(this._queues.length>0)&&!this.isProcessing}},{key:"runningParams",get:function(){return this._runningAsyncTask?this._runningAsyncTask.params:null}}]),s}())._$uuid_count=1,i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,o,r,c,s,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,c=e.AudioClip,s=e.error,n=e.AudioSource},function(e){i=e.oops}],execute:function(){var u;o._RF.push({},"e52d2ysY1BEbpcT2Cz0Wwss","AudioEffect",void 0);var f=r.ccclass;r.menu,e("AudioEffect",f("AudioEffect")(u=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).effects=new Map,t}t(o,e);var r=o.prototype;return r.load=function(e,t){var o=this;i.res.load(e,c,(function(r,c){r&&s(r),o.effects.set(e,c),o.playOneShot(c,o.volume),t&&t()}))},r.release=function(){for(var e in this.effects)i.res.release(e);this.effects.clear()},o}(n))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AudioEffect.ts","./AudioMusic.ts"],(function(t){"use strict";var s,i,e,c,u,o,f;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,c=t.Component},function(t){u=t.oops},function(t){o=t.AudioEffect},function(t){f=t.AudioMusic}],execute:function(){e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","AudioManager",void 0);var h="game_audio";t("AudioManager",function(t){function e(){for(var s,i=arguments.length,e=new Array(i),c=0;c<i;c++)e[c]=arguments[c];return(s=t.call.apply(t,[this].concat(e))||this).local_data={},s._volume_music=1,s._volume_effect=1,s._switch_music=!0,s._switch_effect=!0,s}s(e,t);var c=e.prototype;return c.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},c.playMusic=function(t,s){this._switch_music&&this.music.load(t,s)},c.playerMusicLoop=function(t){this._switch_music&&(this.music.loop=!0,this.music.load(t))},c.playEffect=function(t){this._switch_effect&&this.effect.load(t)},c.resumeAll=function(){this.music&&(this.music.play(),this.effect.play())},c.pauseAll=function(){this.music&&(this.music.pause(),this.effect.pause())},c.stopAll=function(){this.music&&(this.music.stop(),this.effect.stop())},c.save=function(){this.local_data.volume_music=this._volume_music,this.local_data.volume_effect=this._volume_effect,this.local_data.switch_music=this._switch_music,this.local_data.switch_effect=this._switch_effect;var t=JSON.stringify(this.local_data);u.storage.set(h,t)},c.load=function(){this.music=this.getComponent(f)||this.addComponent(f),this.effect=this.getComponent(o)||this.addComponent(o);var t=u.storage.get(h);if(t){try{this.local_data=JSON.parse(t),this._volume_music=this.local_data.volume_music,this._volume_effect=this.local_data.volume_effect,this._switch_music=this.local_data.switch_music,this._switch_effect=this.local_data.switch_effect}catch(t){this.local_data={},this._volume_music=1,this._volume_effect=1,this._switch_music=!0,this._switch_effect=!0}this.music&&(this.music.volume=this._volume_music),this.effect&&(this.effect.volume=this._volume_effect)}},i(e,[{key:"progressMusic",get:function(){return this.music.progress},set:function(t){this.music.progress=t}},{key:"volumeMusic",get:function(){return this._volume_music},set:function(t){this._volume_music=t,this.music.volume=t}},{key:"switchMusic",get:function(){return this._switch_music},set:function(t){this._switch_music=t,0==t&&this.music.stop()}},{key:"volumeEffect",get:function(){return this._volume_effect},set:function(t){this._volume_effect=t,this.effect.volume=t}},{key:"switchEffect",get:function(){return this._switch_effect},set:function(t){this._switch_effect=t,0==t&&this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var s,i,e,r,o,u,n,l;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,r=t._decorator,o=t.AudioClip,u=t.error,n=t.AudioSource},function(t){l=t.oops}],execute:function(){var c;e._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);var a=r.ccclass;r.menu,t("AudioMusic",a("AudioMusic")(c=function(t){function e(){for(var s,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(s=t.call.apply(t,[this].concat(e))||this).onComplete=null,s._progress=0,s._url=null,s._isPlay=!1,s}s(e,t);var r=e.prototype;return r.load=function(t,s){var i=this;l.res.load(t,o,(function(e,r){e&&u(e),i.playing&&(i._isPlay=!1,i.stop()),i._url&&l.res.release(i._url),i.enabled=!0,i.clip=r,s&&s(),i.play(),i._url=t}))},r.update=function(t){this.currentTime>0&&(this._isPlay=!0),this._isPlay&&0==this.playing&&(this._isPlay=!1,this.enabled=!1,this.onComplete&&this.onComplete())},r.release=function(){this._url&&(l.res.release(this._url),this._url=null)},i(e,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),e}(n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BhvButtonGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i,e,r,o,a,l,u,s,p,c,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,l=n.Enum,u=n.Button,s=n.SpriteFrame,p=n.EventHandler,c=n.Component,b=n.color}],execute:function(){var f,m,v,h,d,y,E,C,g,T,S,z,L,R,w,I,D,N,_,H,O,B,P,A,G,M,x,X,k,F,J;o._RF.push({},"41df676L55LvJ52uxkQpfxJ","BhvButtonGroup",void 0);var U,j=a.ccclass,Q=a.property,V=a.menu;!function(n){n[n.CHILDREN_INDEX=0]="CHILDREN_INDEX",n[n.CHILDREN_NAME=1]="CHILDREN_NAME"}(U||(U={}));n("BhvButtonGroup",(f=V("添加特殊行为/UI/Button Group(一组按钮控制)"),m=Q({type:l(u.Transition)}),v=Q({visible:function(){return this.transition===u.Transition.COLOR}}),h=Q({visible:function(){return this.transition===u.Transition.COLOR}}),d=Q({visible:function(){return this.transition===u.Transition.COLOR}}),y=Q({visible:function(){return this.transition===u.Transition.COLOR}}),E=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),C=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),g=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),T=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),S=Q({visible:function(){return this.transition===u.Transition.SCALE||this.transition===u.Transition.COLOR}}),z=Q({visible:function(){return this.transition===u.Transition.SCALE}}),L=Q({type:l(U)}),R=Q({type:[p]}),w=Q({tooltip:"规避3.x引擎BUG，EventHandler.component位为空导致找不到触发事件的脚本名的问题",readonly:!0}),j(I=f((N=t((D=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"transition",N,r(t)),e(t,"hoverColor",_,r(t)),e(t,"normalColor",H,r(t)),e(t,"pressedColor",O,r(t)),e(t,"disabledColor",B,r(t)),e(t,"normalSprite",P,r(t)),e(t,"pressedSprite",A,r(t)),e(t,"hoverSprite",G,r(t)),e(t,"disabledSprite",M,r(t)),e(t,"duration",x,r(t)),e(t,"zoomScale",X,r(t)),e(t,"paramType",k,r(t)),e(t,"touchEvents",F,r(t)),e(t,"EventHandler_component",J,r(t)),t}return i(t,n),t.prototype.onLoad=function(){var n=this;this.node.children.forEach((function(t,i){var e=t.getComponent(u);null==e&&(e=t.addComponent(u)),n.touchEvents.forEach((function(r){var o=new p;o.component=""==r.component?n.EventHandler_component:r.component,o.handler=r.handler,o.target=r.target,n.paramType===U.CHILDREN_INDEX?o.customEventData=i.toString():o.customEventData=t.name,e.clickEvents.push(o)}))}))},t}(c)).prototype,"transition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Transition.NONE}}),_=t(D.prototype,"hoverColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(255,255,255)}}),H=t(D.prototype,"normalColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(214,214,214)}}),O=t(D.prototype,"pressedColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(211,211,211)}}),B=t(D.prototype,"disabledColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(124,124,124)}}),P=t(D.prototype,"normalSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"pressedSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"hoverSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"disabledSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=t(D.prototype,"zoomScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),k=t(D.prototype,"paramType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.CHILDREN_INDEX}}),F=t(D.prototype,"touchEvents",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(D.prototype,"EventHandler_component",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"VMModify"}}),I=D))||I)||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvFrameIndex.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,s,a,p,u,c,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,p=e.Sprite,u=e.SpriteFrame,c=e.CCInteger,l=e.error,d=e.Component}],execute:function(){var h,m,f,x,y,F,v,g;s._RF.push({},"c238ewfJ2VJnZ8Gb8YQs5Ts","BhvFrameIndex",void 0);var I=a.ccclass,b=a.property,_=a.executeInEditMode,C=a.requireComponent,w=a.menu;e("BhvFrameIndex",(h=C(p),m=w("添加特殊行为/UI/Frame Index(帧图改变)"),f=b({type:[u],tooltip:"sprite将会用到帧图片"}),x=b({type:c,tooltip:"当前显示的帧图"}),I(y=_(y=h(y=m((v=t((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spriteFrames",v,i(t)),n(t,"_index",g,i(t)),t}r(t,e);var s=t.prototype;return s.setName=function(e){var t=this.spriteFrames.findIndex((function(t){return t.name==e}));t<0&&l("frameIndex 设置了不存在的name:",e),this.index=t||0},s.random=function(e,t){if(this.spriteFrames){var r=this.spriteFrames.length;(null==e||e<0)&&(e=0),(null==t||t>r)&&(t=r),this.index=Math.floor(Math.random()*(t-e)+e)}},s.next=function(){this.index++},s.previous=function(){this.index--},o(t,[{key:"index",get:function(){return this._index},set:function(e){e<0||(this._index=e%this.spriteFrames.length,this.node.getComponent(p).spriteFrame=this.spriteFrames[this._index])}}]),t}(d)).prototype,"spriteFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),t(F.prototype,"index",[x],Object.getOwnPropertyDescriptor(F.prototype,"index"),F.prototype),g=t(F.prototype,"_index",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=F))||y)||y)||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/BhvRollNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,l,a,o,n,u,s,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,n=t._decorator,u=t.Label,s=t.Enum,c=t.lerp,p=t.Component}],execute:function(){var h,b,f,g,m,y,E,v,d,T,_,M,S,R,w,I,V,F,N;o._RF.push({},"72d13dwmG9LS4gkJhSuAp3F","BhvRollNumber",void 0);var k,A=n.ccclass,L=n.property,z=n.menu;!function(t){t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER"}(k||(k={}));t("BhvRollNumber",(h=z("添加特殊行为/UI/Roll Number (滚动数字)"),b=L({type:u,tooltip:"需要滚动的 Label 组件,如果不进行设置，就会从自己的节点自动查找"}),f=L({tooltip:"当前的滚动值(开始的滚动值)"}),g=L({tooltip:"是否显示正负符号"}),m=L({tooltip:"滚动的目标值"}),y=L({tooltip:"滚动的线性差值",step:.01,max:1,min:0}),E=L({tooltip:"是否在开始时就播放"}),v=L({tooltip:"在滚动之前会等待几秒",step:.1,max:1,min:0}),d=L({type:s(k),tooltip:"是否在开始时就播放"}),A(T=h((M=e((_=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"label",M,l(e)),r(e,"value",S,l(e)),r(e,"showPlusSymbol",R,l(e)),r(e,"_targetValue",w,l(e)),r(e,"lerp",I,l(e)),r(e,"playAtStart",V,l(e)),r(e,"runWaitTimer",F,l(e)),r(e,"valueType",N,l(e)),e._custom_callback=null,e.isScrolling=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(u)),this.playAtStart&&(this.updateLabel(),this.scroll())},o.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce((function(){t.isScrolling=!0}),this.runWaitTimer):this.isScrolling=!0)},o.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},o.init=function(t,e,i){this.targetValue=e||0,this.value=t||0,this.lerp=i||.1},o.scrollTo=function(t){null!=t&&(this.targetValue=t)},o.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case k.INTEGER:e=Math.round(t)+"";break;case k.FIXED_2:e=t.toFixed(2);break;case k.TIMER:e=function(t,e){void 0===t&&(t=0);void 0===e&&(e=!0);var i=Math.floor(t),r=Math.floor(i/3600),l=Math.floor(i%3600/60),a=i%60,o=""+l,n=""+a;a<10&&(n="0"+a);return e?(l<10&&(o="0"+l),r+":"+o+":"+n):(o=""+(l+60*r),l<10&&(o="0"+l),o+":"+n)}(t);break;case k.PERCENTAGE:e=Math.round(100*t)+"%";break;case k.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case k.CUSTOMER:this._custom_callback&&(e=this._custom_callback(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},o.update=function(t){if(0!=this.isScrolling)return this.value=c(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0},a(e,[{key:"targetValue",get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()}}]),e}(p)).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(_.prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(_.prototype,"showPlusSymbol",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(_.prototype,"targetValue",[m],Object.getOwnPropertyDescriptor(_.prototype,"targetValue"),_.prototype),w=e(_.prototype,"_targetValue",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=e(_.prototype,"lerp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),V=e(_.prototype,"playAtStart",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=e(_.prototype,"runWaitTimer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(_.prototype,"valueType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.INTEGER}}),T=_))||T)||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvSwitchPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){"use strict";var t,i,n,r,o,s,a,c,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.CCInteger,h=e.Component},function(e){u=e.VMEnv}],execute:function(){var d,p,g,l,f,x;s._RF.push({},"b3d083kncpDPqVztMtiq6DO","BhvSwitchPage",void 0);var v=a.ccclass,y=a.property,P=a.executeInEditMode,_=a.menu;e("BhvSwitchPage",(d=_("添加特殊行为/UI/Switch Page (切换页面)"),p=y({type:c}),v(g=P(g=d((f=t((l=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isLoopPage",f,r(t)),n(t,"_index",x,r(t)),t.preIndex=0,t._isChanging=!1,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.preIndex=this.index},s._updateEditorPage=function(e){if(u.editor)for(var t=this.node.children,i=0;i<t.length;i++){var n=t[i];n.active=i==e}},s._updatePage=function(e){var t=this.node.children,i=this.preIndex,n=this.index;if(i!==n){var r=t[i],o=t[n];r.active=!1,o.active=!0}},s.next=function(){return!this.isChanging&&(this.index++,!0)},s.previous=function(){return!this.isChanging&&(this.index--,!0)},s.setEventIndex=function(e,t){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=t,!0)},o(t,[{key:"index",get:function(){return this._index},set:function(e){if(!this.isChanging){e=Math.round(e);var t=this.node.children.length-1;this.isLoopPage?(e>t&&(e=0),e<0&&(e=t)):(e>t&&(e=t),e<0&&(e=0)),this.preIndex=this._index,this._index=e,u.editor?this._updateEditorPage(e):this._updatePage(e)}}},{key:"isChanging",get:function(){return this._isChanging}}]),t}(h)).prototype,"isLoopPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(l.prototype,"_index",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(l.prototype,"index",[p],Object.getOwnPropertyDescriptor(l.prototype,"index"),l.prototype),g=l))||g)||g)||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/BoardPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./EChessRecord.ts","./EChessboardRecord.ts"],(function(e){"use strict";var t,o,i,n,r,a,p,c,l,u,s,f,y,d,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,p=e._decorator,c=e.CCInteger,l=e.Sprite},function(e){u=e.ecs},function(e){s=e.CCComp},function(e){f=e.EChessCamp},function(e){y=e.EBoardPointType,d=e.ESpecialMoveType,C=e.ERotateDirection}],execute:function(){var b,m,g,h,P,v,E,R,w,z,B,T,D,S;a._RF.push({},"dfaacm3jRxCoapnp4pEP16N","BoardPoint",void 0);var N=p.ccclass,x=p.property;e("BoardPointComp",(b=N("BoardPointComp"),m=u.register("BoardPoint",!1),g=x({type:c,tooltip:"点位索引"}),h=x({type:f,tooltip:"点位阵营颜色"}),P=x({type:y,tooltip:"点位类型"}),v=x({type:d,tooltip:"特殊点位类型"}),E=x({type:C,tooltip:"点位旋转方向"}),b(R=m((z=t((w=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"Idx",z,n(t)),i(t,"Camp",B,n(t)),i(t,"Type",T,n(t)),i(t,"SpecialType",D,n(t)),i(t,"RotateDirection",S,n(t)),t}o(t,e);var a=t.prototype;return a.start=function(){this.node.getComponent(l).enabled=!1},a.reset=function(){},r(t,[{key:"pointPos",get:function(){return this.node.worldPosition}}]),t}(s)).prototype,"Idx",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(w.prototype,"Camp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.None}}),T=t(w.prototype,"Type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.None}}),D=t(w.prototype,"SpecialType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.None}}),S=t(w.prototype,"RotateDirection",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.None}}),R=w))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoardPointModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessboardRecord.ts"],(function(t){"use strict";var o,n,e,i,s,p;return{setters:[function(t){o=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.ecs},function(t){s=t.ESpecialMoveType,p=t.EBoardPointType}],execute:function(){var r;e._RF.push({},"3bd9cyOmqpK9oZF22CLeZbE","BoardPointModel",void 0);t("BoardPointModelComp",i.register("BoardPointModel")(r=function(t){function e(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).points=[],o._pointsHome=[],o._pointsPrepare=[],o._pointsCommon=[],o._pointsSingle=[],o._pointsBlock=[],o}o(e,t);var i=e.prototype;return i.initPointComp=function(t){this.points=t,this._pointsHome=[],this._pointsPrepare=[],this._pointsCommon=[],this._pointsSingle=[],this._pointsBlock=[];for(var o=0;o<t.length;o++)t[o].SpecialType===s.Home?this._pointsHome.push(t[o]):t[o].SpecialType===s.Prepare?this._pointsPrepare.push(t[o]):t[o].Type===p.Common?this._pointsCommon.push(t[o]):(t[o].SpecialType===s.Block&&this._pointsBlock.push(t[o]),this._pointsSingle.push(t[o]))},i.reset=function(){},n(e,[{key:"pointsHome",get:function(){return this._pointsHome}},{key:"pointsPrepare",get:function(){return this._pointsPrepare}},{key:"pointsCommon",get:function(){return this._pointsCommon}},{key:"pointsSingle",get:function(){return this._pointsSingle}},{key:"pointsBlock",get:function(){return this._pointsBlock}},{key:"pointSingleMinIdx",get:function(){return 57}},{key:"pointCommonMinIdx",get:function(){return 5}},{key:"pointCommonMaxIdx",get:function(){return 56}}]),e}(i.Comp))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/BuildTimeConstants.ts",["cc","./env"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t}],execute:function(){n._RF.push({},"21a39/4HchJdJkSQKKKkLh9","BuildTimeConstants",void 0);var u=Object.keys(e).sort();t("BuildTimeConstants",(function(){var t=u.reduce((function(t,n){return Math.max(t,n.length)}),0),n=""+u.map((function(n){var u=e[n],c="boolean"==typeof u?u?"true":"false":u;return"\n"+n.padStart(t," ")+" : "+c}));console.log(n)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(t){"use strict";var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.Vec3,n=t.view}],execute:function(){e._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);t("CameraUtil",function(){function t(){}return t.isInView=function(t,e){var i=t.node.getWorldPosition(),c=t.worldToScreen(e),o=r.normalize(new r,e.subtract(i)),u=t.node.forward,a=r.dot(u,o),s=n.getViewportRect();return a>0&&c.x<=s.width&&c.x>=0&&c.y<=s.height&&c.y>=0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CCComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts"],(function(t){"use strict";var o,e,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.GameComponent}],execute:function(){var c,i;e._RF.push({},"dd207fiyGJLf5r+bkiMgwdt","CCComp",void 0);var s=n.ccclass;n.property,t("CCComp",s("CCComp")(((i=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(r)).tid=-1,i.compName=void 0,c=i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCVMParentComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMParent.ts"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){o=t.default}],execute:function(){var c,i;r._RF.push({},"5908aTmM1lItpXgo7ROpQeQ","CCVMParentComp",void 0);var s=n.ccclass;n.property,t("CCVMParentComp",s("CCVMParentComp")(((i=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r}(o)).tid=-1,i.compName=void 0,c=i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/Chess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ECS.ts","./EChessboardRecord.ts","./SingletonModuleComp.ts","./ChessMoveBll.ts","./ChessModel.ts","./ChessControllerView.ts"],(function(e){"use strict";var s,t,o,n,i,r,h,l,c,C,u;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy},function(e){n=e.ViewUtil},function(e){i=e.ecs},function(e){r=e.ESpecialMoveType},function(e){h=e.smc},function(e){l=e.ChessMoveBllComp,c=e.ChessMoveBllSystem},function(e){C=e.ChessModelComp},function(e){u=e.ChessControllerViewComp}],execute:function(){var a;o._RF.push({},"0caf1QXhtBAmJziIPWGNaln","Chess",void 0);e("Chess",i.register("Chess")(a=function(e){function o(){return e.apply(this,arguments)||this}s(o,e);var i=o.prototype;return i.init=function(){this.addComponents(C,l)},i.selectChess=function(){this.ChessModel.player.selectedChess(),this.ChessMoveBll.startMove()},i.setCanAction=function(){return this.ChessModel.isCanAction=this.ChessMoveBll.getIsCanMove(),this.ChessModel.player.isOwner&&this.ChessControllerView.setTouchEnable(this.ChessModel.isCanAction),this.ChessModel.isCanAction},i.setChessWon=function(){this.ChessMoveBll.moveToHome()},i.loadChessNode=function(){var e=n.createPrefabNode(this.ChessModel.res),s=e.getComponent(u);return h.room.chessboard.Chessboard.addChessNode(e),this.add(s),e},i.destroy=function(){this.remove(u),this.remove(l),this.remove(C),e.prototype.destroy.call(this)},t(o,[{key:"isCanAction",get:function(){return this.ChessModel.isCanAction}},{key:"stayPoint",get:function(){return this.ChessModel.stayPoint}},{key:"isStayEnd",get:function(){return this.stayPoint.SpecialType===r.End}}]),o}(i.Entity))||a),e("EcsChessSystem",function(e){function t(){var s;return(s=e.call(this)||this).add(new c),s}return s(t,e),t}(i.System));o._RF.pop()}}}));

System.register("chunks:///_virtual/Chessboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts","./BoardPoint.ts"],(function(t){"use strict";var o,i,n,e,r,s,a,l,p,c,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node},function(t){l=t.ecs},function(t){p=t.CCComp},function(t){c=t.oops},function(t){u=t.BoardPointComp}],execute:function(){var h,d,C,f,P,m,g,y;r._RF.push({},"0d80cNoMtpJNJeMZrg2snaV","Chessboard",void 0);var b=s.ccclass,v=s.property;t("ChessboardComp",(h=b("ChessboardComp"),d=l.register("Chessboard",!1),C=v({type:a,tooltip:"点位父节点"}),f=v({type:a,tooltip:"棋子父节点"}),h(P=d((g=o((m=function(t){function o(){for(var o,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"PointParent",g,e(o)),n(o,"ChessParent",y,e(o)),o._pointsComp=null,o}i(o,t);var r=o.prototype;return r.initUI=function(){this.node.setScale(1.44,1.44),this.initPointNode(),this.ent.BoardPointModel.initPointComp(this._pointsComp)},r.initPointNode=function(){if(!this._pointsComp){this._pointsComp=[];for(var t=this.PointParent.children,o=0;o<t.length;o++){var i=t[o];if(i){var n=i.getComponent(u);n?this._pointsComp.push(n):c.log.logView("Point BoardPointComp is null")}else c.log.logView("Point children has null")}}},r.addChessNode=function(t){this.ChessParent.addChild(t)},r.reset=function(){this.node.destroy()},o}(p)).prototype,"PointParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=o(m.prototype,"ChessParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m))||P)||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/Chessboard2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./ECS.ts","./PathFindBll.ts","./BoardPointModel.ts","./ChessboardModel.ts","./Chessboard.ts"],(function(t){"use strict";var s,e,o,n,r,i,a,d,h,l,u;return{setters:[function(t){s=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy},function(t){n=t.oops},function(t){r=t.ViewUtil},function(t){i=t.ecs},function(t){a=t.PathFindBllComp,d=t.PathFindBllSystem},function(t){h=t.BoardPointModelComp},function(t){l=t.ChessboardModelComp},function(t){u=t.ChessboardComp}],execute:function(){var c;o._RF.push({},"a4a5bC/yqFN4rnJyaxOyXre","Chessboard",void 0);t("Chessboard",i.register("Chessboard")(c=function(t){function o(){return t.apply(this,arguments)||this}s(o,t);var i=o.prototype;return i.init=function(){this.addComponents(l,h,a)},i.getPointChess=function(t){for(var s=[],e=0;e<this.ChessboardModel.allChess.length;e++)this.ChessboardModel.allChess[e].stayPoint==t&&s.push(this.ChessboardModel.allChess[e]);return s},i.loadChessboardNode=function(){var t=r.createPrefabNode(this.ChessboardModel.boardRes),s=t.getComponent(u);return n.gui.game.addChild(t),this.add(s),t},i.destroy=function(){this.remove(u),t.prototype.destroy.call(this)},e(o,[{key:"takeOffNum",get:function(){return this.ChessboardModel.takeOffNum}}]),o}(i.Entity))||c),t("EcsChessboardSystem",function(t){function e(){var s;return(s=t.call(this)||this).add(new d),s}return s(e,t),e}(i.System));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChessboardModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(e){"use strict";var s,t,o;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.ecs}],execute:function(){var r;t._RF.push({},"030b0JudiBJG5nhwxUrg2GL","ChessboardModel",void 0);e("ChessboardModelComp",o.register("ChessboardModel")(r=function(e){function t(){for(var s,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(s=e.call.apply(e,[this].concat(o))||this).boardRes="game/chessboard/board",s.takeOffNum=[],s.allChess=[],s}s(t,e);var o=t.prototype;return o.initData=function(e){this.takeOffNum=[];for(var s=0;s<e.length;s++)this.takeOffNum.push(e[s])},o.addChess=function(e){this.allChess.push(e)},o.reset=function(){},t}(o.Comp))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChessControllerView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts"],(function(e){"use strict";var t,n,o,i,s,r,c,l,a,u,h,p,C,f,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.CCInteger,l=e.Sprite,a=e.Button,u=e.Animation,h=e.Node,p=e.SpriteFrame,C=e.tween},function(e){f=e.ecs},function(e){d=e.CCComp},function(e){y=e.oops}],execute:function(){var b,I,g,m,v,w,_,z,E,F,k,A;s._RF.push({},"025281Jf0JEzqt8FLs/cxjt","ChessControllerView",void 0);var M=r.ccclass,R=r.property;e("ChessControllerViewComp",(b=M("ChessControllerViewComp"),I=f.register("ChessControllerView",!1),g=R({type:c,tooltip:"移动速度"}),m=R({type:l,tooltip:"棋子图标"}),v=R({type:a,tooltip:"点击"}),w=R({type:u,tooltip:"棋子动画"}),b(_=I((E=t((z=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"MoveSpeed",E,i(t)),o(t,"ChessIcon",F,i(t)),o(t,"BtnChess",k,i(t)),o(t,"IconAni",A,i(t)),t._canClick=!1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.BtnChess.node.on(h.EventType.TOUCH_END,this.onClickChess,this)},s.initUI=function(){var e=y.res.get(this.ent.ChessModel.getChessIconRes(),p);this.ChessIcon.spriteFrame=e,this.setTouchEnable(!1)},s.setChessWonIcon=function(){var e=y.res.get(this.ent.ChessModel.wonIconRes,p);this.ChessIcon.spriteFrame=e},s.onClickChess=function(){this._canClick&&(y.gui.toast("点击了棋子"),this.ent.selectChess())},s.onMoveChess=function(e,t,n){C(this.node).to(t,{worldPosition:e}).call((function(){n&&n()})).start()},s.setPos=function(e){this.node.setWorldPosition(e)},s.setRotate=function(e){this.ChessIcon.node.setRotationFromEuler(0,0,e)},s.setTouchEnable=function(e){this._canClick=e,e?this.IconAni.play("scaleChess"):this.IconAni.stop()},s.reset=function(){this.node.destroy()},t}(d)).prototype,"MoveSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=t(z.prototype,"ChessIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"BtnChess",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"IconAni",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_)||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChessModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessRecord.ts"],(function(e){"use strict";var t,s,n,r,i;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy},function(e){r=e.ecs},function(e){i=e.EChessCamp}],execute:function(){var c;n._RF.push({},"8d20azZkDRIMp03Hso6n3la","ChessModel",void 0);e("ChessModelComp",r.register("ChessModel")(c=function(e){function n(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).res="game/chess/chess",t.idx=null,t.player=null,t.camp=i.None,t.isCanAction=!1,t.stayPoint=null,t}t(n,e);var r=n.prototype;return r.initData=function(e,t,s){this.idx=e,this.camp=t,this.player=s},r.getChessIconRes=function(){switch(this.camp){case i.Blue:return"game/chess/texture/fly_blue/spriteFrame";case i.Green:return"game/chess/texture/fly_green/spriteFrame";case i.Red:return"game/chess/texture/fly_red/spriteFrame";case i.Yellow:return"game/chess/texture/fly_yellow/spriteFrame"}},r.setStayPoint=function(e){this.stayPoint=e},r.reset=function(){this.isCanAction=!1,this.stayPoint=null},s(n,[{key:"wonIconRes",get:function(){return"game/chess/texture/fly_won/spriteFrame"}}]),n}(r.Comp))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ChessMoveBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessboardRecord.ts","./SingletonModuleComp.ts","./EChessRecord.ts"],(function(s){"use strict";var e,t,o,i,h,n,r,c;return{setters:[function(s){e=s.inheritsLoose},function(s){t=s.cclegacy},function(s){o=s.ecs},function(s){i=s.ESpecialMoveType,h=s.EBoardPointType,n=s.ERotateDirection},function(s){r=s.smc},function(s){c=s.EMoveDirection}],execute:function(){var l;t._RF.push({},"357b86iqkZCTI0+V1lA4zHk","ChessMoveBll",void 0);var a=s("ChessMoveBllComp",o.register("ChessMoveBll")(l=function(s){function t(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))||this).chess=null,e._moveDirection=c.None,e._moveStep=null,e._isCanShortFly=!0,e._nextMovePoint=null,e._hitChess=null,e}e(t,s);var o=t.prototype;return o.startMove=function(){this._moveDirection=c.Forward,this._moveStep=r.room.diceScore,this._isCanShortFly=!0,this._nextMovePoint=null,this.setMoveStep()},o.setMoveStep=function(){this._moveDirection===c.Forward?this._nextMovePoint=r.room.chessboard.PathFindBll.getNextMovePoint(this.chess.ChessModel.camp,this.chess.stayPoint):this._nextMovePoint=r.room.chessboard.PathFindBll.getLastMovePoint(this.chess.ChessModel.camp,this.chess.stayPoint),this._nextMovePoint.SpecialType===i.Prepare?this._moveStep=0:this._moveStep--,this.chess.ChessModel.setStayPoint(this._nextMovePoint),this.setChessRotate(),this.chess.ChessControllerView.onMoveChess(this._nextMovePoint.pointPos,.2,this.endMove.bind(this))},o.setLongDistanceFly=function(){var s=this;this._nextMovePoint=r.room.chessboard.PathFindBll.getLongDistanceMovePoint(this.chess.stayPoint),this.chess.ChessModel.setStayPoint(this._nextMovePoint),this.setChessRotate(),this.chess.ChessControllerView.onMoveChess(this._nextMovePoint.pointPos,.3,this.endMove.bind(this));var e=r.room.chessboard.PathFindBll.getBlockPoint(this.ent);setTimeout((function(){s.hitOtherChess(e)}),150)},o.setShortFly=function(){this._nextMovePoint=r.room.chessboard.PathFindBll.getShortMovePoint(this.chess.stayPoint),this._isCanShortFly=!1,this.chess.ChessModel.setStayPoint(this._nextMovePoint),this.setChessRotate(),this.chess.ChessControllerView.onMoveChess(this._nextMovePoint.pointPos,.3,this.endMove.bind(this))},o.endMove=function(){if(this.chess.stayPoint.SpecialType===i.End){if(0==this._moveStep)return void this.chess.setChessWon();this._moveDirection=c.Back}if(this._moveStep>0)this.setMoveStep();else{if(this._moveDirection==c.Forward&&this.chess.stayPoint.Camp===this.chess.ChessModel.camp&&this.chess.stayPoint.Type===h.Common&&this.chess.stayPoint.SpecialType!=i.Turn){if(this.chess.stayPoint.SpecialType===i.Fly)return void this.setLongDistanceFly();if(this._isCanShortFly)return void this.setShortFly()}this.hitOtherChess(this.chess.stayPoint),r.room.GameManagerBll.endPlayerAction()}},o.hitOtherChess=function(s){this._hitChess=r.room.chessboard.getPointChess(s);for(var e=0;e<this._hitChess.length;e++)this._hitChess[e].ChessModel.camp!==this.chess.ChessModel.camp&&this._hitChess[e].ChessMoveBll.onHitToHome()},o.onHitToHome=function(){var s=r.room.chessboard.PathFindBll.getHomePoint(this.ent);this.chess.ChessModel.setStayPoint(s),this.setChessRotate(),this.chess.ChessControllerView.onMoveChess(s.pointPos,.3)},o.setChessRotate=function(){switch(this.chess.stayPoint.RotateDirection){case n.Down:this.chess.ChessControllerView.setRotate(0);break;case n.Right:this.chess.ChessControllerView.setRotate(90);break;case n.Up:this.chess.ChessControllerView.setRotate(180);break;case n.Left:this.chess.ChessControllerView.setRotate(-90)}},o.initHomePos=function(){var s=r.room.chessboard.PathFindBll.getHomePoint(this.ent);this.chess.ChessModel.setStayPoint(s),this.setChessRotate(),this.chess.ChessControllerView.setPos(s.pointPos)},o.moveToHome=function(){var s=this,e=r.room.chessboard.PathFindBll.getHomePoint(this.ent);this.chess.ChessControllerView.onMoveChess(e.pointPos,.5,(function(){s.chess.ChessControllerView.setChessWonIcon(),s.chess.ChessModel.player.isWon()||r.room.GameManagerBll.endPlayerAction()}))},o.getIsCanMove=function(){return!this.chess.isStayEnd&&(this.chess.stayPoint.SpecialType!==i.Home||-1!=r.room.chessboard.takeOffNum.indexOf(r.room.diceScore))},o.reset=function(){this.chess=null},t}(o.Comp))||l);s("ChessMoveBllSystem",function(s){function t(){return s.apply(this,arguments)||this}e(t,s);var i=t.prototype;return i.filter=function(){return o.allOf(a)},i.entityEnter=function(s){s.ChessMoveBll.chess=s,s.ChessMoveBll.initHomePos()},t}(o.ComblockSystem));t._RF.pop()}}}));

System.register("chunks:///_virtual/Collection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,a,i;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,a=t.wrapNativeSuper},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1dcf5AtQQVK3KQ/2jHHD5gi","Collection",void 0);t("Collection",function(t){function a(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(r=t.call.apply(t,[this].concat(a))||this)._array=[],r}r(a,t);var i=a.prototype;return i.set=function(r,e){if(this.has(r)){var a=this.get(r),i=this._array.indexOf(a);this._array[i]=e}else this._array.push(e);return t.prototype.set.call(this,r,e)},i.delete=function(r){var e=this.get(r);if(e){var a=this._array.indexOf(e);return a>-1&&this._array.splice(a,1),t.prototype.delete.call(this,r)}return!1},i.clear=function(){this._array.splice(0,this._array.length),t.prototype.clear.call(this)},e(a,[{key:"array",get:function(){return this._array}}]),a}(a(Map)));i._RF.pop()}}}));

System.register("chunks:///_virtual/CommonPrompt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts","./Oops.ts"],(function(n){"use strict";var t,e,o,i,c,a,l,r,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,a=n._decorator,l=n.Component},function(n){r=n.LanguageLabel},function(n){s=n.oops}],execute:function(){var u,f,h,b,p,g,d,m,_,y,C;c._RF.push({},"653bf8VPC5Fn49zFJFqXVgx","CommonPrompt",void 0);var k=a.ccclass,v=a.property;n("CommonPrompt",(u=k("CommonPrompt"),f=v(r),h=v(r),b=v(r),p=v(r),u((m=t((d=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return t=n.call.apply(n,[this].concat(c))||this,o(t,"lab_title",m,i(t)),o(t,"lab_content",_,i(t)),o(t,"lab_ok",y,i(t)),o(t,"lab_cancel",C,i(t)),t.config={},t}e(t,n);var c=t.prototype;return c.onTouchEnd=function(n,t){switch(n.target.name){case"btn_ok":this.onOk();break;case"btn_cancel":this.onCancel()}},c.onAdded=function(n){void 0===n&&(n={}),this.config=n||{},this.setTitle(),this.setContent(),this.setBtnOkLabel(),this.setBtnCancelLabel(),this.node.active=!0},c.setTitle=function(){this.lab_title.dataID=this.config.title},c.setContent=function(){this.lab_content.dataID=this.config.content},c.setBtnOkLabel=function(){this.lab_ok.dataID=this.config.okWord},c.setBtnCancelLabel=function(){this.lab_cancel.dataID=this.config.cancelWord,this.lab_cancel.node.parent.active=this.config.needCancel||!1},c.onOk=function(){"function"==typeof this.config.okFunc&&this.config.okFunc(),this.close()},c.onClose=function(){"function"==typeof this.config.closeFunc&&this.config.closeFunc(),this.close()},c.onCancel=function(){"function"==typeof this.config.cancelFunc&&this.config.cancelFunc(),this.close()},c.close=function(){s.gui.removeByNode(this.node)},c.onDestroy=function(){this.config=null},t}(l)).prototype,"lab_title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(d.prototype,"lab_content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"lab_ok",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(d.prototype,"lab_cancel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/CompJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,i,e,s,n,c,r,h,a,_,u,d;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,r=t.Vec3,h=t.Node,a=t.Vec2,_=t.UITransform,u=t.view,d=t.Component}],execute:function(){var l,p,m,y,k,f,v;n._RF.push({},"6f9b3AB29lK/YgbZQ8j6hdv","CompJoystick",void 0);var P=c.ccclass,T=c.property,C=new r;t("CompJoystick",(l=P("CompJoystick"),p=T({type:h,tooltip:"摇杆底"}),m=T({type:h,tooltip:"摇杆按钮节点, rockerBottom的子节点"}),l((f=o((k=function(t){function o(){for(var o,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return o=t.call.apply(t,[this].concat(n))||this,e(o,"rockerBottom",f,s(o)),e(o,"rockerNode",v,s(o)),o._joystickData={speed:0,direction:new r},o._maxRadius=50,o._nodeTransform=null,o._scale=1,o._moveDis=0,o._touchPos=new a,o._vecTemp=new r,o._bottomPos=new r,o._rockerPos=new r,o}i(o,t);var n=o.prototype;return n.getJoystickData=function(){return this._joystickData},n.onLoad=function(){this._maxRadius=this.rockerBottom.getComponent(_).width/2,this._nodeTransform=this.node.getComponent(_),this.rockerNode.setPosition(C);var t=u.getVisibleSizeInPixel(),o=u.getVisibleSize();this._scale=t.width/o.width},n.onEnable=function(){this.node.on(h.EventType.TOUCH_START,this.touchStart,this),this.node.on(h.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(h.EventType.TOUCH_END,this.touchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.touchCancel,this)},n.onDisable=function(){this.node.off(h.EventType.TOUCH_START,this.touchStart,this),this.node.off(h.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(h.EventType.TOUCH_END,this.touchEnd,this),this.node.off(h.EventType.TOUCH_CANCEL,this.touchCancel,this)},n.touchStart=function(t){this._joystickData.speed=0,t.getLocation(this._touchPos),this._touchPos.divide2f(this._scale,this._scale),this._vecTemp.set(this._touchPos.x,this._touchPos.y),this._nodeTransform.convertToNodeSpaceAR(this._vecTemp,this._bottomPos),this.rockerBottom.setPosition(this._bottomPos)},n.touchMove=function(t){t.getLocation(this._touchPos),this._touchPos.divide2f(this._scale,this._scale),this._vecTemp.set(this._touchPos.x,this._touchPos.y),r.subtract(this._rockerPos,this._vecTemp,this._bottomPos),this._moveDis=this._rockerPos.length(),this._joystickData.speed=this._moveDis/this._maxRadius,this._joystickData.direction.set(this._rockerPos),this._joystickData.direction.normalize(),this._maxRadius>this._moveDis&&r.multiplyScalar(this._rockerPos,this._joystickData.direction,this._maxRadius),this.rockerNode.setPosition(this._rockerPos)},n.touchEnd=function(t){this._joystickData.speed=0,this._joystickData.direction.set(C),this._rockerPos.set(C),this.rockerNode.setPosition(this._rockerPos)},n.touchCancel=function(t){this._joystickData.speed=0,this._joystickData.direction.set(C),this._rockerPos.set(C),this.rockerNode.setPosition(this._rockerPos)},o}(d)).prototype,"rockerBottom",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=o(k.prototype,"rockerNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"5034dEezo5Frr6dhZGVgmTh","Config",void 0);t("Config",(function(){}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(s){"use strict";var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"82d3a9c71JEkI95d3qscHm8","Defines",void 0);s("ViewParams",(function(){this.uuid=null,this.prefabPath=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DelegateComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var o,n,t,a,s;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,a=e.Component},function(e){s=e.oops}],execute:function(){var i;n._RF.push({},"d8f1fGRD7dBzIeBSkOpd/Py","DelegateComponent",void 0);var r=t.ccclass;e("DelegateComponent",r("DelegateComponent")(i=function(e){function n(){for(var o,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(o=e.call.apply(e,[this].concat(t))||this).viewParams=null,o}o(n,e);var t=n.prototype;return t.add=function(){this.applyComponentsFunction(this.node,"onAdded",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onAdded&&this.viewParams.callbacks.onAdded(this.node,this.viewParams.params)},t.remove=function(e){var o=this;this.viewParams.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onBeforeRemove?this.viewParams.callbacks.onBeforeRemove(this.node,(function(){o.removed(o.viewParams,e)})):this.removed(this.viewParams,e))},t.removed=function(e,o){e.valid=!1,"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),o?(this.node.destroy(),s.res.release(e.prefabPath)):this.node.removeFromParent()},t.onDestroy=function(){this.applyComponentsFunction(this.node,"onRemoved",this.viewParams.params),this.viewParams=null},t.applyComponentsFunction=function(e,o,n){for(var t=0;t<e.components.length;t++){var a=e.components[t],s=a[o];s&&s.call(a,n)}},n}(a))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/DiceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,i,n,o,r,c,a,l,s,u,p,h,f,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.CCInteger,l=t.Button,s=t.Sprite,u=t.Animation,p=t.SpriteFrame,h=t.Node,f=t.Component},function(t){m=t.oops},function(t){y=t.smc}],execute:function(){var I,b,D,w,T,g,d,F,S,_,v,A,C;r._RF.push({},"22654AmEIlJUJEDKA0AzSFZ","DiceItem",void 0);var z=c.ccclass,E=c.property;t("DiceItem",(I=z("DiceItem"),b=E({type:a,tooltip:"扔骰子时间"}),D=E({type:l,tooltip:"点击"}),w=E({type:s,tooltip:"骰子图标"}),T=E({type:u,tooltip:"骰子动画"}),g=E({type:p,tooltip:"骰子图标集"}),I((S=e((F=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"ThrowTime",S,o(e)),n(e,"BtnDice",_,o(e)),n(e,"Icon",v,o(e)),n(e,"IconAni",A,o(e)),n(e,"IconSpriteFrame",C,o(e)),e._throwEffect=!1,e._throwTimer=0,e._canClick=!1,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.BtnDice.node.on(h.EventType.TOUCH_END,this.setDice,this)},r.start=function(){this.Icon.spriteFrame=this.IconSpriteFrame[0]},r.setDice=function(){this._canClick&&this.onThrow(y.room.diceScore)},r.onThrow=function(t){var e=this;this.setTouchEnable(!1),this.IconAni.play("throwDice"),this.scheduleOnce((function(){e.IconAni.stop(),e.Icon.spriteFrame=e.IconSpriteFrame[t],y.room.GameManagerBll.setPlayerMoveChess()}),this.ThrowTime)},r.setTouchEnable=function(t){this._canClick=t,t&&(m.gui.toast("请点击骰子，确定移动步数"),this.IconAni.play("scaleDice"),this.Icon.spriteFrame=this.IconSpriteFrame[0])},r.update=function(t){this._throwEffect},e}(f)).prototype,"ThrowTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),_=e(F.prototype,"BtnDice",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(F.prototype,"Icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(F.prototype,"IconAni",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(F.prototype,"IconSpriteFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=F))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/EChessboardRecord.ts",["cc","./EChessRecord.ts"],(function(e){"use strict";var o,n,t;return{setters:[function(e){o=e.cclegacy,n=e.Enum},function(e){t=e.EChessCamp}],execute:function(){var r,i,c,l,a;e({EBoardPointType:void 0,ERotateDirection:void 0,ESpecialMoveType:void 0}),o._RF.push({},"944caBhSelMc6VSJqHJyxS4","EChessboardRecord",void 0),function(e){e[e.None=0]="None",e[e.Common=1]="Common",e[e.Single=2]="Single"}(c||(c=e("EBoardPointType",{}))),n(c),function(e){e[e.None=0]="None",e[e.Home=1]="Home",e[e.Prepare=2]="Prepare",e[e.Start=3]="Start",e[e.Fly=4]="Fly",e[e.Turn=5]="Turn",e[e.Block=6]="Block",e[e.End=7]="End"}(l||(l=e("ESpecialMoveType",{}))),n(l),function(e){e[e.None=0]="None",e[e.Down=1]="Down",e[e.Right=2]="Right",e[e.Up=3]="Up",e[e.Left=4]="Left"}(a||(a=e("ERotateDirection",{}))),n(a);e("StartPointCamp",((r={})[t.Blue]=t.Yellow,r[t.Green]=t.Blue,r[t.Red]=t.Green,r[t.Yellow]=t.Red,r)),e("BlockPointCamp",((i={})[t.Blue]=t.Red,i[t.Green]=t.Yellow,i[t.Red]=t.Blue,i[t.Yellow]=t.Green,i)),e("ShortFlyStep",4),e("LongDistanceStep",12);o._RF.pop()}}}));

System.register("chunks:///_virtual/EChessRecord.ts",["cc"],(function(e){"use strict";var o,n;return{setters:[function(e){o=e.cclegacy,n=e.Enum}],execute:function(){var r,c;e({EChessCamp:void 0,EMoveDirection:void 0}),o._RF.push({},"a924dF4RLFJ8pHC7SqARgHD","EChessRecord",void 0),function(e){e[e.None=0]="None",e[e.Blue=1]="Blue",e[e.Green=2]="Green",e[e.Red=3]="Red",e[e.Yellow=4]="Yellow"}(c||(c=e("EChessCamp",{}))),n(c);var s;e("ChessCampName",((r={})[c.Blue]="蓝色",r[c.Green]="绿色",r[c.Red]="红色",r[c.Yellow]="黄色",r));!function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Back=2]="Back"}(s||(s=e("EMoveDirection",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ECS.ts",["cc","./ECSComp.ts","./ECSEntity.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts"],(function(t){"use strict";var n,e,i,o,r,c,u,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ECSComp},function(t){i=t.ECSEntity},function(t){o=t.ECSMatcher},function(t){r=t.ECSModel},function(t){c=t.ECSSystem,u=t.ECSRootSystem,s=t.ECSComblockSystem}],execute:function(){var d;t("ecs",void 0),n._RF.push({},"be87fT76plLkaUKEYpkuV0n","ECS",void 0),function(t){var n=t.Entity=i;t.Comp=e,t.System=c,t.RootSystem=u,t.ComblockSystem=s;function d(t){return function(){var t=new n;return t.eid=r.eid++,r.eid2Entity.set(t.eid,t),t}().add(t)}t.register=function(t,n){return void 0===n&&(n=!0),function(e){if(null==e.tid)r.entityCtors.set(e,t);else{if(-1!==e.tid)throw new Error("重复注册组件： "+t+".");e.tid=r.compTid++,e.compName=t,n?(r.compCtors.push(e),r.compPools.set(e.tid,[])):r.compCtors.push(null),r.compAddOrRemove.set(e.tid,[])}}},t.getEntity=function(t){var n=r.entityCtors.get(t);null==n&&console.error(t.name+" 实体没有注册");var e=(r.entityPool.get(n)||[]).pop();return e||((e=new t).eid=r.eid++,e.name=n),e.init?e.init():console.error(t.name+" 实体缺少 init 方法初始化默认组件"),r.eid2Entity.set(e.eid,e),e},t.query=function(t){var n=r.groups.get(t.mid);return n||(n=r.createGroup(t),r.eid2Entity.forEach(n.onComponentAddOrRemove,n)),n.matchEntities},t.clear=function(){r.eid2Entity.forEach((function(t){t.destroy()})),r.groups.forEach((function(t){t.clear()})),r.compAddOrRemove.forEach((function(t){t.length=0})),r.eid2Entity.clear(),r.groups.clear()},t.getEntityByEid=function(t){return r.eid2Entity.get(t)},t.activeEntityCount=function(){return r.eid2Entity.size},t.allOf=function(){var t;return(t=new o).allOf.apply(t,arguments)},t.anyOf=function(){var t;return(t=new o).anyOf.apply(t,arguments)},t.onlyOf=function(){var t;return(t=new o).onlyOf.apply(t,arguments)},t.excludeOf=function(){var t;return(t=new o).excludeOf.apply(t,arguments)},t.getSingleton=function(t){if(!r.tid2comp.has(t.tid)){var n=d(t);r.tid2comp.set(t.tid,n)}return r.tid2comp.get(t.tid)},t.addSingleton=function(t){var n=t.constructor.tid;r.tid2comp.has(n)||r.tid2comp.set(n,t)}}(d||(d=t("ecs",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ECSComp.ts",["cc"],(function(c){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"3d017ZhAZRH4bPfpLr5++8F","ECSComp",void 0);var e=c("ECSComp",(function(){this.canRecycle=!0}));e.tid=-1,e.compName=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ECSEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.ECSMask},function(t){o=t.ECSModel}],execute:function(){function r(t,i){for(var e=o.compAddOrRemove.get(i),n=e.length-1;n>=0;n--)e[n](t);o.tid2comp.has(i)&&o.tid2comp.delete(i)}e._RF.push({},"1fb62WC3PZPvLhjoZQfrREJ","ECSEntity",void 0);t("ECSEntity",function(){function t(){this.eid=-1,this.name="",this.mask=new n,this.compTid2Ctor=new Map,this.compTid2Obj=new Map,this._parent=null,this._children=null}var e=t.prototype;return e.addChild=function(t){t._parent=this,this.children.set(t.eid,t)},e.removeChild=function(t){null!=this.children&&(this.children.delete(t.eid),0==this.children.size&&(this._children=null))},e.add=function(t,i){if(void 0===i&&(i=!1),"function"==typeof t){var e,n=t.tid;if(-1===t.tid)throw Error("组件未注册！");if(this.compTid2Ctor.has(n)){if(!i)return console.log("已经存在组件："+t.compName),this[t.compName];this.remove(t)}return this.mask.set(n),this.compTid2Obj.has(n)?(e=this.compTid2Obj.get(n),this.compTid2Obj.delete(n)):e=function(t){var i=o.compCtors[t.tid];if(!i)throw Error("没有找到该组件的构造函数，检查"+t.compName+"是否为不可构造的组件");return o.compPools.get(t.tid).pop()||new i}(t),this[t.compName]=e,this.compTid2Ctor.set(n,t),e.ent=this,r(this,n),e}var s=t.constructor,h=s.tid;if(-1===h||null==h)throw Error("组件未注册");if(this.compTid2Ctor.has(h))throw Error("已经存在该组件");return this.mask.set(h),this[s.compName]=t,this.compTid2Ctor.set(h,s),t.ent=this,t.canRecycle=!1,r(this,h),this},e.addComponents=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];for(var n=0,o=i;n<o.length;n++){var r=o[n];this.add(r)}return this},e.get=function(t){return this[t.compName]},e.has=function(t){return"number"==typeof t?this.mask.has(t):this.compTid2Ctor.has(t.tid)},e.remove=function(t,i){void 0===i&&(i=!0);var e=!1,n=t.tid,s=t.compName;if(this.mask.has(n)){e=!0;var h=this[t.compName];h.ent=null,i?(h.reset(),h.canRecycle&&o.compPools.get(n).push(h)):this.compTid2Obj.set(n,h)}e&&(this[s]=null,this.mask.delete(n),this.compTid2Ctor.delete(n),r(this,n))},e._remove=function(t){this.remove(t,!1)},e.destroy=function(){var t=this;this._children&&this._children.forEach((function(i){t.removeChild(i),i.destroy()})),this.compTid2Ctor.forEach(this._remove,this),function(t){if(o.eid2Entity.has(t.eid)){var i=o.entityPool.get(t.name);null==i&&(i=[],o.entityPool.set(t.name,i)),i.push(t),o.eid2Entity.delete(t.eid)}else console.warn("试图销毁不存在的实体")}(this),this.compTid2Obj.clear()},i(t,[{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return null==this._children&&(this._children=new Map),this._children}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"c21a23o9P5FNJamcMmoYWfs","ECSGroup",void 0);t("ECSGroup",function(){function t(t){this.matcher=void 0,this._matchEntities=new Map,this._entitiesCache=null,this.count=0,this._enteredEntities=null,this._removedEntities=null,this.matcher=t}var i=t.prototype;return i.onComponentAddOrRemove=function(t){this.matcher.isMatch(t)?(this._matchEntities.set(t.eid,t),this._entitiesCache=null,this.count++,this._enteredEntities&&(this._enteredEntities.set(t.eid,t),this._removedEntities.delete(t.eid))):this._matchEntities.has(t.eid)&&(this._matchEntities.delete(t.eid),this._entitiesCache=null,this.count--,this._enteredEntities&&(this._enteredEntities.delete(t.eid),this._removedEntities.set(t.eid,t)))},i.watchEntityEnterAndRemove=function(t,e){this._enteredEntities=t,this._removedEntities=e},i.clear=function(){var t,e;this._matchEntities.clear(),this._entitiesCache=null,this.count=0,null==(t=this._enteredEntities)||t.clear(),null==(e=this._removedEntities)||e.clear()},e(t,[{key:"matchEntities",get:function(){return null===this._entitiesCache&&(this._entitiesCache=Array.from(this._matchEntities.values())),this._entitiesCache}},{key:"entity",get:function(){return this.matchEntities[0]}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMask.ts",["cc","./ECSModel.ts"],(function(t){"use strict";var s,i;return{setters:[function(t){s=t.cclegacy},function(t){i=t.ECSModel}],execute:function(){s._RF.push({},"d18694PPbtGs5Ipgo/vaJBX","ECSMask",void 0);t("ECSMask",function(){function t(){this.mask=void 0,this.size=0;var t=Math.ceil(i.compTid/31);this.mask=new Uint32Array(t),this.size=t}var s=t.prototype;return s.set=function(t){this.mask[t/31>>>0]|=1<<t%31},s.delete=function(t){this.mask[t/31>>>0]&=~(1<<t%31)},s.has=function(t){return!!(this.mask[t/31>>>0]&1<<t%31)},s.or=function(t){for(var s=0;s<this.size;s++)if(this.mask[s]&t.mask[s])return!0;return!1},s.and=function(t){for(var s=0;s<this.size;s++)if((this.mask[s]&t.mask[s])!=this.mask[s])return!1;return!0},s.clear=function(){for(var t=0;t<this.size;t++)this.mask[t]=0},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){"use strict";var i,n,r,e,s,h,u;return{setters:[function(t){i=t.construct,n=t.createForOfIteratorHelperLoose,r=t.createClass,e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){h=t.ECSMask},function(t){u=t.ECSModel}],execute:function(){s._RF.push({},"37e8arlqPlN7amZYyHFvBIp","ECSMatcher",void 0);var o=1,c=(t("ECSMatcher",function(){function t(){this.rules=[],this._indices=null,this.mid=-1,this._key=null,this.mid=o++}var e=t.prototype;return e.anyOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(a,n)),this.bindMatchMethod(),this},e.allOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(f,n)),this.bindMatchMethod(),this},e.onlyOf=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];this.rules.push(i(f,r));for(var s,h=[],o=n(u.compCtors);!(s=o()).done;){var c=s.value;r.indexOf(c)<0&&h.push(c)}return this.rules.push(i(l,h)),this.bindMatchMethod(),this},e.excludeOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(l,n)),this.bindMatchMethod(),this},e.bindMatchMethod=function(){1===this.rules.length?this.isMatch=this.isMatch1:2===this.rules.length?this.isMatch=this.isMatch2:this.isMatch=this.isMatchMore},e.isMatch1=function(t){return this.rules[0].isMatch(t)},e.isMatch2=function(t){return this.rules[0].isMatch(t)&&this.rules[1].isMatch(t)},e.isMatchMore=function(t){for(var i,r=n(this.rules);!(i=r()).done;){if(!i.value.isMatch(t))return!1}return!0},e.clone=function(){var i=new t;return i.mid=o++,this.rules.forEach((function(t){return i.rules.push(t)})),i},r(t,[{key:"key",get:function(){if(!this._key){for(var t="",i=0;i<this.rules.length;i++)t+=this.rules[i].getKey(),i<this.rules.length-1&&(t+=" && ");this._key=t}return this._key}},{key:"indices",get:function(){var t=this;return null===this._indices&&(this._indices=[],this.rules.forEach((function(i){Array.prototype.push.apply(t._indices,i.indices)}))),this._indices}}]),t}()),function(){function t(){this.indices=[],this.mask=new h;for(var t=-1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var e=n.length,s=0;s<e;s++){if(-1==(t="number"==typeof n[s]?n[s]:n[s].tid))throw Error("存在没有注册的组件！");this.mask.set(t),this.indices.indexOf(t)<0&&this.indices.push(t)}e>1&&this.indices.sort((function(t,i){return t-i}))}return t.prototype.toString=function(){return this.indices.join("-")},t}()),a=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.or(t.mask)},n.getKey=function(){return"anyOf:"+this.toString()},i}(c),f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.and(t.mask)},n.getKey=function(){return"allOf:"+this.toString()},i}(c),l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.getKey=function(){return"excludeOf:"+this.toString()},n.isMatch=function(t){return!this.mask.or(t.mask)},i}(c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSModel.ts",["cc","./ECSGroup.ts"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.cclegacy},function(e){t=e.ECSGroup}],execute:function(){o._RF.push({},"1d60egM6r9Gta4Op3VABSGM","ECSModel",void 0);var n=e("ECSModel",function(){function e(){}return e.createGroup=function(o){var n=e.groups.get(o.mid);if(!n){n=new t(o),e.groups.set(o.mid,n);for(var r=o.indices,p=0;p<r.length;p++)e.compAddOrRemove.get(r[p]).push(n.onComponentAddOrRemove.bind(n))}return n},e}());n.eid=1,n.entityCtors=new Map,n.entityPool=new Map,n.eid2Entity=new Map,n.compTid=0,n.compPools=new Map,n.compCtors=[],n.compAddOrRemove=new Map,n.tid2comp=new Map,n.groups=new Map,o._RF.pop()}}}));

System.register("chunks:///_virtual/ECSSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSModel.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.ECSModel}],execute:function(){s._RF.push({},"9261fRWg2RBY5kxbFJsY1QC","ECSSystem",void 0);t("ECSComblockSystem",function(){function t(){this.group=void 0,this.dt=0,this.enteredEntities=null,this.removedEntities=null,this.hasEntityEnter=!1,this.hasEntityRemove=!1,this.hasUpdate=!1,this.tmpExecute=null;var t=Object.hasOwnProperty,e=Object.getPrototypeOf(this),i=t.call(e,"entityEnter"),s=t.call(e,"entityRemove"),o=t.call(e,"firstUpdate"),r=t.call(e,"update");this.hasEntityEnter=i,this.hasEntityRemove=s,this.hasUpdate=r,i||s?(this.enteredEntities=new Map,this.removedEntities=new Map,this.execute=this.execute1,this.group=n.createGroup(this.filter()),this.group.watchEntityEnterAndRemove(this.enteredEntities,this.removedEntities)):(this.execute=this.execute0,this.group=n.createGroup(this.filter())),o&&(this.tmpExecute=this.execute,this.execute=this.updateOnce)}var i=t.prototype;return i.init=function(){},i.onDestroy=function(){},i.hasEntity=function(){return this.group.count>0},i.updateOnce=function(t){if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){for(var i,s=this.enteredEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityEnter(o)}this.enteredEntities.clear()}for(var r,h=e(this.group.matchEntities);!(r=h()).done;){var u=r.value;this.firstUpdate(u)}this.execute=this.tmpExecute,this.execute(t),this.tmpExecute=null}},i.execute0=function(t){if(0!==this.group.count&&(this.dt=t,this.hasUpdate))for(var i,s=e(this.group.matchEntities);!(i=s()).done;){var n=i.value;this.update(n)}},i.execute1=function(t){if(this.removedEntities.size>0){if(this.hasEntityRemove)for(var i,s=this.removedEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityRemove(o)}this.removedEntities.clear()}if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){if(this.hasEntityEnter){s=this.enteredEntities.values();for(var r,h=e(s);!(r=h()).done;){var u=r.value;this.entityEnter(u)}}this.enteredEntities.clear()}if(this.hasUpdate)for(var c,a=e(this.group.matchEntities);!(c=a()).done;){var l=c.value;this.update(l)}}},t}()),t("ECSRootSystem",function(){function t(){this.executeSystemFlows=[],this.systemCnt=0}var e=t.prototype;return e.add=function(t){return t instanceof o?Array.prototype.push.apply(this.executeSystemFlows,t.comblockSystems):this.executeSystemFlows.push(t),this.systemCnt=this.executeSystemFlows.length,this},e.init=function(){this.executeSystemFlows.forEach((function(t){return t.init()}))},e.execute=function(t){for(var e=0;e<this.systemCnt;e++)this.executeSystemFlows[e].execute(t)},e.clear=function(){this.executeSystemFlows.forEach((function(t){return t.onDestroy()}))},t}());var o=t("ECSSystem",function(){function t(){this._comblockSystems=[]}return t.prototype.add=function(e){return e instanceof t?(Array.prototype.push.apply(this._comblockSystems,e._comblockSystems),e._comblockSystems.length=0):this._comblockSystems.push(e),this},i(t,[{key:"comblockSystems",get:function(){return this._comblockSystems}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index.js"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"46d12Bx4JdKnIYHhcvNk6S1","EncryptUtil",void 0);var i=t("EncryptUtil",function(){function t(){}return t.md5=function(t){return r.MD5(t).toString()},t.initCrypto=function(t,n){this.key=t,this.iv=r.enc.Hex.parse(n)},t.aesEncrypt=function(t,n,i){return r.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},t.aesDecrypt=function(t,n,i){return r.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(r.enc.Utf8)},t}());i.key=null,i.iv=null,i.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(r.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),i=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(n.ct)});return n.iv&&(i.iv=r.enc.Hex.parse(n.iv)),n.s&&(i.salt=r.enc.Hex.parse(n.s)),i}},n._RF.pop()}}}));

System.register("chunks:///_virtual/EPlayerRecord.ts",["cc"],(function(e){"use strict";var r,t;return{setters:[function(e){r=e.cclegacy,t=e.Enum}],execute:function(){var n;e("EAIPlayerType",void 0),r._RF.push({},"35cd228yYBKk4QrXRcECh3C","EPlayerRecord",void 0),function(e){e[e.None=0]="None",e[e.Stupid=1]="Stupid",e[e.Goodness=2]="Goodness",e[e.Cold=3]="Cold",e[e.Strange=4]="Strange",e[e.Calm=5]="Calm"}(n||(n=e("EAIPlayerType",{}))),t(n),r._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./MessageManager.ts"],(function(t){"use strict";var s,n;return{setters:[function(t){s=t.cclegacy},function(t){n=t.MessageEventData}],execute:function(){s._RF.push({},"c680af5iPNKeIO4cArf/90m","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,i){null==this._msg&&(this._msg=new n),this._msg.on(t,s,i)},s.off=function(t){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t,s){void 0===s&&(s=null),null==this._msg&&(this._msg=new n),this._msg.dispatchEvent(t,s)},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){var E;e("EventMessage",void 0),s._RF.push({},"beea7u9xnJD4rMj6ua/LTcF","EventMessage",void 0),function(e){e.GAME_ENTER="EventMessage.GAME_ENTER",e.GAME_EXIT="EventMessage.GAME_EXIT",e.GAME_RESIZE="EventMessage.GAME_RESIZE"}(E||(E=e("EventMessage",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/GameCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n,o,e,r,l,s,a,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.ccenum,a=i.Collider,c=i.Component}],execute:function(){var g,h,E,u,C;i("CollisionType",void 0),r._RF.push({},"8edaam8WhdBEYR4guslfNh/","GameCollision",void 0);var y,p=l.ccclass,v=l.property;!function(i){i[i.Role=0]="Role",i[i.Ballistic=1]="Ballistic",i[i.Wall=2]="Wall"}(y||(y=i("CollisionType",{}))),s(y);i("GameCollision",(g=p("GameCollision"),h=v({type:y,tooltip:"碰撞物体类型"}),g((C=t((u=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=i.call.apply(i,[this].concat(r))||this).Event_TriggerEnter="onTriggerEnter",t.Event_TriggerStay="onTriggerStay",t.Event_TriggerExit="onTriggerExit",t.Event_CollisionEnter="onCollisionEnter",t.Event_CollisionStay="onCollisionStay",t.Event_CollisionExit="onCollisionExit",t.collider=null,o(t,"type",C,e(t)),t}n(t,i);var r=t.prototype;return r.onLoad=function(){this.collider=this.getComponent(a),this.collider.isTrigger?(this.collider.on(this.Event_TriggerEnter,this.onTrigger,this),this.collider.on(this.Event_TriggerStay,this.onTrigger,this),this.collider.on(this.Event_TriggerExit,this.onTrigger,this)):(this.collider.on(this.Event_CollisionEnter,this.onCollision,this),this.collider.on(this.Event_CollisionStay,this.onCollision,this),this.collider.on(this.Event_CollisionExit,this.onCollision,this))},r.onTrigger=function(i){switch(i.type){case this.Event_TriggerEnter:this.onTriggerEnter(i);break;case this.Event_TriggerStay:this.onTriggerStay(i);break;case this.Event_TriggerExit:this.onTriggerExit(i)}},r.onTriggerEnter=function(i){},r.onTriggerStay=function(i){},r.onTriggerExit=function(i){},r.onCollision=function(i){switch(i.type){case this.Event_CollisionEnter:this.onCollisionEnter(i);break;case this.Event_CollisionStay:this.onCollisionStay(i);break;case this.Event_CollisionExit:this.onCollisionExit(i)}},r.onCollisionEnter=function(i){},r.onCollisionStay=function(i){},r.onCollisionExit=function(i){},t}(c)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Ballistic}}),E=u))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./ViewUtil.ts"],(function(e){"use strict";var t,s,n,i,c,a,o,r;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy,i=e._decorator,c=e.isValid,a=e.Component},function(e){o=e.EventDispatcher},function(e){r=e.ViewUtil}],execute:function(){var h;n._RF.push({},"9e3f8Q8IgZD9ZsZJ7OrkxWd","GameComponent",void 0);var u=i.ccclass;e("GameComponent",u("GameComponent")(h=function(e){function n(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._eventDispatcher=null,t._isBindMessageActive=!1,t.dynamicsAssets=[],t.nodes=new Map,t}t(n,e);var i=n.prototype;return i.bindMessageActive=function(){this._isBindMessageActive=!0},i.unbindMessageActive=function(){this._isBindMessageActive=!1},i.get=function(e){return this.nodes.get(e)},i.onLoad=function(){r.nodeTreeInfoLite(this.node,this.nodes)},i.addAutoReleaseAsset=function(e){c(e)&&(e.addRef(),this.dynamicsAssets.push(e))},i.addAutoReleaseAssets=function(e){var t=this;e.forEach((function(e){t.addAutoReleaseAsset(e)}))},i.on=function(e,t,s){var n=this;this.eventDispatcher.on(e,(function(e,i){n.isValid?n._isBindMessageActive?n.node.active&&t.call(s,e,i):t.call(s,e,i):n._eventDispatcher&&(n._eventDispatcher.destroy(),n._eventDispatcher=null)}),s)},i.off=function(e){this._eventDispatcher&&this._eventDispatcher.off(e)},i.dispatchEvent=function(e,t){void 0===t&&(t=null),this.eventDispatcher.dispatchEvent(e,t)},i.onDestroy=function(){this._eventDispatcher&&(this._eventDispatcher.destroy(),this._eventDispatcher=null),this.nodes.clear(),this.dynamicsAssets.forEach((function(e){e.decRef()})),this.dynamicsAssets.splice(0,this.dynamicsAssets.length)},s(n,[{key:"eventDispatcher",get:function(){return this._eventDispatcher||(this._eventDispatcher=new o),this._eventDispatcher}}]),n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.oops}],execute:function(){n._RF.push({},"54585zBsmtGfZEDczLG3SH5","GameConfig",void 0);t("GameConfig",function(){function t(t){this._data=null;var e=t.json;this._data=Object.freeze(e),a.log.logConfig(this._data,"游戏配置")}return e(t,[{key:"version",get:function(){return this._data.config.version}},{key:"package",get:function(){return this._data.config.package}},{key:"frameRate",get:function(){return this._data.config.frameRate}},{key:"localDataKey",get:function(){return this._data.config.localDataKey}},{key:"localDataIv",get:function(){return this._data.config.localDataIv}},{key:"httpServer",get:function(){return this._data.config.httpServer}},{key:"httpTimeout",get:function(){return this._data.config.httpTimeout}},{key:"language",get:function(){return this._data.language.type||["zh"]}},{key:"languagePathJson",get:function(){return this._data.language.path.json||"language/json"}},{key:"languagePathTexture",get:function(){return this._data.language.path.texture||"language/texture"}},{key:"bundleEnable",get:function(){return this._data.bundle.enable}},{key:"bundleServer",get:function(){return this._data.bundle.server}},{key:"bundleName",get:function(){return this._data.bundle.name}},{key:"bundleVersion",get:function(){return this._data.bundle.version}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t;e("GameEvent",void 0),n._RF.push({},"28ac0rWU79HGpJWrnyK01Gn","GameEvent",void 0),function(e){e.GameServerConnected="GameServerConnected",e.LoginSuccess="LoginSuccess"}(t||(t=e("GameEvent",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,o,i,r,a,c,s,u,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,s=e.Label},function(e){u=e.ecs},function(e){l=e.CCComp},function(e){p=e.oops},function(e){f=e.UIID}],execute:function(){var d,g,m,C,L,y,b,h;r._RF.push({},"66114FeWs5FWa2EqBuIm6nU","GameLoadingView",void 0);var v=a.ccclass,w=a.property;e("GameLoadingViewComp",(d=v("GameLoadingViewComp"),g=u.register("GameLoadingView",!1),m=w({type:c,tooltip:"飞机"}),C=w({type:s,tooltip:"提示信息"}),d(L=g((b=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"NodePlane",b,i(t)),o(t,"LabContent",h,i(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){},r.refreshTipsContent=function(e){this.LabContent.string=e},r.endLoadingEffect=function(e){this.ent.remove(t),e()},r.reset=function(){p.gui.remove(f.GameLoading)},t}(l)).prototype,"NodePlane",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(y.prototype,"LabContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc"],(function(e){"use strict";var t,a,i;return{setters:[function(e){t=e.cclegacy,a=e.game,i=e.Game}],execute:function(){t._RF.push({},"73fa0CEfOhMdJUoZwoFIIZV","GameManager",void 0);var n=1;e("GameManager",function(){function e(e){this.root=e,this.gameTimeScaleExtend()}var t=e.prototype;return t.setTimeScale=function(e){n=e},t.gameTimeScaleExtend=function(){a._calculateDT=function(e){return e||(e=performance.now()),this._deltaTime=e>this._startTime?(e-this._startTime)/1e3:0,this._deltaTime>i.DEBUG_DT_THRESHOLD&&(this._deltaTime=this.frameTime/1e3),this._startTime=e,this._deltaTime*n}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManagerBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ArrayUtil.ts","./ViewUtil.ts","./AsyncQueue.ts","./ECS.ts","./EChessRecord.ts","./Chessboard2.ts","./SingletonModuleComp.ts","./GameUIConfig.ts","./Player.ts","./AIManagerBll.ts","./GameLoadingView.ts","./GameView.ts","./ResultBll.ts"],(function(e){"use strict";var t,n,o,a,r,i,l,c,s,u,m,h,f,d,g,y,p,C;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator},function(e){o=e.cclegacy},function(e){a=e.oops},function(e){r=e.ArrayUtil},function(e){i=e.ViewUtil},function(e){l=e.AsyncQueue},function(e){c=e.ecs},function(e){s=e.EChessCamp},function(e){u=e.Chessboard},function(e){m=e.smc},function(e){h=e.UIID,f=e.UIConfigData},function(e){d=e.Player},function(e){g=e.AIManagerBllComp},function(e){y=e.GameLoadingViewComp},function(e){p=e.GameViewComp},function(e){C=e.ResultBllComp}],execute:function(){var P;o._RF.push({},"f2d799/nXdDv7XvMhVYmOq6","GameManagerBll",void 0);var v=e("GameManagerBllComp",c.register("GameManagerBll")(P=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).room=null,t._allCamp=[s.Blue,s.Green,s.Red,s.Yellow],t._allDiceScore=[1,2,3,4,5,6],t._actionRankArr=null,t._actionRankIdx=null,t._actionPlayer=null,t.actionScore=null,t}t(o,e);var P=o.prototype;return P.createGame=function(){var e=new l;this.createLoading(e),this.createChessboard(e),this.createPlayer(e),this.createChess(e),this.gameStart(e),e.play()},P.createLoading=function(e){var t=this;e.push(n((function*(e,n,o){var r=yield a.gui.openAsync(h.GameLoading);t.room.add(r.getComponent(y));var l=i.createPrefabNode(f[h.GameView].prefab);a.gui.game.addChild(l),t.room.add(l.getComponent(p)),e()})))},P.createChessboard=function(e){var t=this;e.push(n((function*(e,n,o){t.room.GameLoadingView.refreshTipsContent("正在铺设棋盘...");var a=c.getEntity(u);a.ChessboardModel.initData(t.room.SettingModel.takeOffNum),a.loadChessboardNode(),a.Chessboard.initUI(),t.room.RoomModel.setChessboard(a),setTimeout((function(){e()}),1e3)})))},P.createPlayer=function(e){var t=this;e.push(n((function*(e,n,o){t.room.GameLoadingView.refreshTipsContent("正在等待玩家们入座...");for(var a=0;a<t.room.SettingModel.peopleCount;a++){var r=c.getEntity(d),i=t.room.SettingModel.camp;a>0&&(i=t.getRandomNewCamp()),r.PlayerModel.initData(i),r.isOwner||r.add(g),t.room.RoomModel.addPlayer(r)}setTimeout((function(){e()}),1e3)})))},P.createChess=function(e){var t=this;e.push(n((function*(e,n,o){t.room.GameLoadingView.refreshTipsContent("玩家们正在检查棋子...");for(var a=0;a<m.room.allPlayer.length;a++){m.room.allPlayer[a].OwnChessBll.createOwnChess()}setTimeout((function(){e()}),1e3)})))},P.gameStart=function(e){var t=this;e.complete=n((function*(){a.gui.remove(h.Main),t._actionRankArr=[].concat(t.room.allPlayer),t._actionRankArr.sort((function(e,t){return e.PlayerModel.camp-t.PlayerModel.camp})),t._actionRankIdx=-1,t._actionPlayer=null,t.actionScore=null,t.room.GameLoadingView.endLoadingEffect((function(){t.setChangePlayerAction()}))}))},P.setChangePlayerAction=function(){var e=this;if(6===this.actionScore)return a.gui.toast("骰子扔到6点, 可以再扔一次"),this.actionScore=this.getDiceScore(),void this.room.GameView.setPlayerAction(this._actionPlayer);setTimeout((function(){e._actionRankIdx++,e._actionRankIdx>=e._actionRankArr.length&&(e._actionRankIdx=0),e._actionPlayer=e._actionRankArr[e._actionRankIdx],e.actionScore=e.getDiceScore(),e.room.GameView.setPlayerAction(e._actionPlayer)}),1500)},P.setPlayerMoveChess=function(){this._actionPlayer.OwnChessBll.getChessCanAction()?this._actionPlayer.setMoveChess():(a.gui.toast("无可移动的棋子"),this.setChangePlayerAction())},P.endPlayerAction=function(){this.setChangePlayerAction()},P.gameEnd=function(e){this.room.add(C)},P.getRandomNewCamp=function(){for(var e=[].concat(this._allCamp),t=0;t<this.room.allPlayer.length;t++)r.removeItem(e,this.room.allPlayer[t].PlayerModel.camp);return r.getRandomValueInArray(e)},P.getDiceScore=function(){return r.getRandomValueInArray(this._allDiceScore)},P.reset=function(){this.room=null,this.actionScore=null},o}(c.Comp))||P);e("GameManagerBllSystem",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.filter=function(){return c.allOf(v)},o.entityEnter=function(e){e.GameManagerBll.room=e,e.GameManagerBll.createGame()},n}(c.ComblockSystem));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameQueryConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StringUtil.ts"],(function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t.sys},function(t){i=t.oops},function(t){o=t.StringUtil}],execute:function(){n._RF.push({},"d09acUxcU5Hg4kUjKxVEWLy","GameQueryConfig",void 0);t("GameQueryConfig",function(){function t(){this._data=null,r.isBrowser?(this._data=this.parseUrl(),this._data.username||(this._data.username=o.guid()),i.log.logConfig(this._data,"查询参数")):this._data={}}return t.prototype.parseUrl=function(){if("object"!=typeof window)return{};if(!window.document)return{};var t=window.document.location.href.toString().split("?");if("string"==typeof t[1]){for(var e={},n=0,r=(t=t[1].split("&")).length;n<r;++n){var i=t[n],o=i.indexOf("=");if(!(o<0)){var a=i.substring(0,o),s=i.substring(o+1);e[decodeURIComponent(a)]=s&&decodeURIComponent(s)}}return e}return{}},e(t,[{key:"debug",get:function(){return this._data.debug}},{key:"username",get:function(){return this._data.username}},{key:"lang",get:function(){return this._data.lang||"zh"}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUIConfig.ts",["cc","./LayerManager.ts"],(function(e){"use strict";var a,i;return{setters:[function(e){a=e.cclegacy},function(e){i=e.LayerType}],execute:function(){var n,o;e("UIID",void 0),a._RF.push({},"14663z2+5JJIYupyDayZnc3","GameUIConfig",void 0),function(e){e[e.Loading=1]="Loading",e[e.Window=2]="Window",e[e.Netinstable=3]="Netinstable",e[e.Demo=4]="Demo",e[e.Main=5]="Main",e[e.Setting=6]="Setting",e[e.GameLoading=7]="GameLoading",e[e.GameView=8]="GameView",e[e.Result=9]="Result"}(o||(o=e("UIID",{})));e("UIConfigData",((n={})[o.Loading]={layer:i.UI,prefab:"gui/loading/loading"},n[o.Netinstable]={layer:i.PopUp,prefab:"common/prefab/netinstable"},n[o.Window]={layer:i.Dialog,prefab:"common/prefab/window"},n[o.Demo]={layer:i.UI,prefab:"gui/demo/demo"},n[o.Main]={layer:i.UI,prefab:"gui/main/main"},n[o.Setting]={layer:i.PopUp,prefab:"gui/setting/setting"},n[o.GameLoading]={layer:i.PopUp,prefab:"gui/loading/gameLoading"},n[o.GameView]={layer:i.UI,prefab:"game/room/gameView"},n[o.Result]={layer:i.PopUp,prefab:"gui/result/result"},n));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts","./DiceItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,o,i,n,r,s,c,u,a,p,l,m,h,d,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Toggle,u=e.Sprite,a=e.Node,p=e.SpriteFrame},function(e){l=e.ecs},function(e){m=e.CCComp},function(e){h=e.oops},function(e){d=e.DiceItem},function(e){C=e.smc}],execute:function(){var f,y,g,w,S,b,D,v,I,B;r._RF.push({},"5c92bI+omZBN72TlZM0RxY9","GameView",void 0);var M=s.ccclass,T=s.property;e("GameViewComp",(f=M("GameViewComp"),y=l.register("GameView",!1),g=T({type:c,tooltip:"音效按钮"}),w=T({type:u,tooltip:"行动的棋子图标"}),S=T({type:d,tooltip:"行动的棋子图标"}),f(b=y((v=t((D=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"BtnSound",v,n(t)),i(t,"ChessIcon",I,n(t)),i(t,"DiceComp",B,n(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){this.BtnSound.node.on(a.EventType.TOUCH_END,this.setSound,this),this.BtnSound.getComponent(c).isChecked=h.audio.switchMusic},r.setSound=function(){h.audio.switchMusic=this.BtnSound.getComponent(c).isChecked},r.setPlayerAction=function(e){var t=h.res.get(this.ent.RoomModel.getChessCampIconRes(e.PlayerModel.camp),p);this.ChessIcon.spriteFrame=t,this.DiceComp.setTouchEnable(e.isOwner),e.isOwner||this.DiceComp.onThrow(C.room.diceScore)},r.reset=function(){this.node.destroy()},t}(m)).prototype,"BtnSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(D.prototype,"ChessIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"DiceComp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=D))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/GUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var i,e,n,r,s,o,h,a,l,c,g;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.UITransform,s=t.Camera,o=t.view,h=t.math,a=t.screen,l=t.ResolutionPolicy,c=t.Component},function(t){g=t.oops}],execute:function(){var u;e._RF.push({},"9461cd/dGNEGK5I5J24xY6L","GUI",void 0);var p=n.ccclass;n.menu,t("GUI",p("GUI")(u=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).portraitDrz=null,i.landscapeDrz=null,i}i(e,t);var n=e.prototype;return n.onLoad=function(){this.init()},n.init=function(){this.transform=this.getComponent(r),this.camera=this.getComponentInChildren(s),o.getDesignResolutionSize().width>o.getDesignResolutionSize().height?(this.landscapeDrz=o.getDesignResolutionSize(),this.portraitDrz=new h.Size(this.landscapeDrz.height,this.landscapeDrz.width)):(this.portraitDrz=o.getDesignResolutionSize(),this.landscapeDrz=new h.Size(this.portraitDrz.height,this.portraitDrz.width)),this.resize()},n.resize=function(){var t;t=o.getDesignResolutionSize().width>o.getDesignResolutionSize().height?this.landscapeDrz:this.portraitDrz;var i=a.windowSize,e=i.width,n=i.height,r=e,s=n;e/n>t.width/t.height?(r=(s=t.height)*e/n,this.portrait=!1):(s=(r=t.width)*n/e,this.portrait=!0),o.setDesignResolutionSize(r,s,l.UNKNOWN),this.transform.width=r,this.transform.height=s,g.log.logView(t,"设计尺寸"),g.log.logView(i,"屏幕尺寸")},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.width,a.height=e.height;var o=e.getHtmlElementObj();i.drawImage(o,0,0,e.width,e.height);var g=i.getImageData(0,0,e.width,e.height),c=(r-1)*e.width*4+4*(t-1),u=g.data.slice(c,c+4),m=new n(u[0],u[1],u[2],u[3]);return o.remove(),a.remove(),m},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null==(r=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),g=new Image;g.src=e,g.onload=function(){i.height=g.height,i.width=g.width,o.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Initialize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./InitRes.ts"],(function(t){"use strict";var i,n,e,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.ecs},function(t){s=t.InitResComp,r=t.InitResSystem}],execute:function(){var c;n._RF.push({},"ffbceQs6Z9IoI5z6mt1avMw","Initialize",void 0);t("Initialize",e.register("Initialize")(c=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.init=function(){this.add(s)},n}(e.Entity))||c),t("EcsInitializeSystem",function(t){function n(){var i;return(i=t.call(this)||this).add(new r),i}return i(n,t),n}(e.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/InitRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AsyncQueue.ts","./ECS.ts","./GameUIConfig.ts","./LoadingViewComp.ts"],(function(n){"use strict";var e,o,t,u,i,a,s,l;return{setters:[function(n){e=n.inheritsLoose,o=n.asyncToGenerator},function(n){t=n.cclegacy},function(n){u=n.oops},function(n){i=n.AsyncQueue},function(n){a=n.ecs},function(n){s=n.UIID},function(n){l=n.LoadingViewComp}],execute:function(){var c;t._RF.push({},"2ee0c8+7R9EFKQb+OPn9mlk","InitRes",void 0);var r=n("InitResComp",a.register("InitRes")(c=function(n){function o(){return n.apply(this,arguments)||this}return e(o,n),o.prototype.reset=function(){},o}(a.Comp))||c);n("InitResSystem",function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var c=t.prototype;return c.filter=function(){return a.allOf(r)},c.entityEnter=function(n){var e=new i;this.loadBundle(e),this.loadCustom(e),this.loadLanguage(e),this.loadCommon(e),this.onComplete(e,n),e.play()},c.loadBundle=function(n){n.push(o((function*(n,e,o){u.res.defaultBundleName=u.config.game.bundleName,u.config.game.bundleEnable?(console.log("启用远程资源运行游戏"),yield u.res.loadBundle(u.config.game.bundleServer,u.config.game.bundleVersion)):yield u.res.loadBundle(u.config.game.bundleName),n()})))},c.loadCustom=function(n){n.push(o((function*(n,e,o){u.res.load("language/font/"+u.language.current,n)})))},c.loadLanguage=function(n){n.push((function(n,e,o){var t=u.storage.get("language");null==t&&(t="zh",u.storage.set("language",t)),u.language.setLanguage(t,n)}))},c.loadCommon=function(n){n.push((function(n,e,o){u.res.loadDir("common",n)}))},c.onComplete=function(n,e){n.complete=o((function*(){var n=yield u.gui.openAsync(s.Loading);n&&e.add(n.getComponent(l)),e.remove(r)}))},t}(a.ComblockSystem));t._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"000b00Lx19Ke4hAFc9/Qlnh","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._callback=r,this.observe(t)}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();l?l.push(n):l=[n],Object.defineProperty(t,n,{get:function(){return a},set:function(t){a!==t&&("[object Object]"===e.toString.call(t)&&s.observe(t,l),s._callback(t,a,l),a=t)}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],l)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./Oops.ts"],(function(n){"use strict";var e,s,t;return{setters:[function(n){e=n.cclegacy,s=n.JsonAsset},function(n){t=n.oops}],execute:function(){e._RF.push({},"1a24ank4nRC46jfzaIfOmtQ","JsonUtil",void 0);var o="config/game/",r=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(r.has(n))return r.get(n)},n.load=function(n,e){if(r.has(n))e(r.get(n));else{var a=o+n;t.res.load(a,s,(function(s,t){s?(console.warn(s.message),e(null)):(r.set(n,t.json),e(t.json))}))}},n.loadAsync=function(n){return new Promise((function(e,a){if(r.has(n))e(r.get(n));else{var c=o+n;t.res.load(c,s,(function(s,t){s?(console.warn(s.message),e(null)):(r.set(n,t.json),e(t.json))}))}}))},n.release=function(n){var e=o+n;r.delete(n),t.res.release(e)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LabelChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelNumber.ts"],(function(i){"use strict";var t,e,n,s,a,r,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator},function(i){h=i.default}],execute:function(){var c,l,u;a._RF.push({},"fff0fLwVNhNe59VirWTCPFJ","LabelChange",void 0);var o=r.ccclass,d=r.property,p=r.menu;i("LabelChange",o("LabelChange")(c=p("ui/label/LabelChange")((u=t((l=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"isInteger",u,s(t)),t.duration=0,t.callback=void 0,t.isBegin=!1,t.speed=0,t.end=0,t}e(t,i);var a=t.prototype;return a.changeTo=function(i,t,e){0!=i?this.playAnim(i,this.num,t,e):e&&e()},a.changeBy=function(i,t,e){0!=i?this.playAnim(i,this.num,this.num+t,e):e&&e()},a.stop=function(i){void 0===i&&(i=!0),this.num=this.end,this.isBegin=!1,i&&this.callback&&this.callback()},a.playAnim=function(i,t,e,n){this.duration=i,this.end=e,this.callback=n,this.speed=(e-t)/i,this.num=t,this.isBegin=!0},a.isEnd=function(i){return this.speed>0?i>=this.end:i<=this.end},a.update=function(i){if(this.isBegin){if(this.num==this.end)return this.isBegin=!1,void(this.callback&&this.callback());var t=this.num+i*this.speed;this.isInteger&&(t=this.end<this.num?Math.floor(t):Math.ceil(t)),this.isEnd(t)&&(t=this.end,this.isBegin=!1,this.callback&&this.callback()),this.num=t}},t}(h)).prototype,"isInteger",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=l))||c)||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/LabelNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,u,a,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,a=t._decorator,l=t.error,s=t.Label}],execute:function(){var c,p,b,m,f,y,h,L,g;u._RF.push({},"f7b43F70BhPlrz4IPhZGmsL","LabelNumber",void 0);var d=a.ccclass,_=a.property,v=a.menu;t("default",(c=d("LabelNumber"),p=v("ui/label/LabelNumber"),b=_({tooltip:"数字"}),m=_({tooltip:"数字"}),f=_({tooltip:"货币符号"}),c(y=p((L=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_num",L,i(e)),n(e,"symbol",g,i(e)),e}r(e,t);var u=e.prototype;return u.start=function(){this.updateLabel()},u.updateLabel=function(){"number"!=typeof this._num&&l("[LabelNumber] num不是一个合法数字"),this.string=this.num.toString()+this.symbol},o(e,[{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.updateLabel()}}]),e}(s)).prototype,"_num",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(h.prototype,"num",[m],Object.getOwnPropertyDescriptor(h.prototype,"num"),h.prototype),g=e(h.prototype,"symbol",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=h))||y)||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTime.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label}],execute:function(){var l,c,u,h,m,p,f,d,b,g,y,v;o._RF.push({},"57786GMN6RPbaAT9b9RmX18","LabelTime",void 0);var D=a.ccclass,S=a.property,z=a.menu;t("default",(l=D("LabelTime"),c=z("ui/label/LabelTime"),u=S({tooltip:"到计时间总时间（单位秒）"}),h=S({tooltip:"天数数据格式化"}),m=S({tooltip:"时间格式化"}),p=S({tooltip:"是否有00"}),l(f=c((b=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"countDown",b,n(e)),r(e,"dayFormat",g,n(e)),r(e,"timeFormat",y,n(e)),r(e,"zeroize",v,n(e)),e.onSecond=null,e.onComplete=null,e}i(e,t);var o=e.prototype;return o.replace=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.replace(/\{(\d+)\}/g,(function(t,e){return i[e]}))},o.format=function(){var t=this.countDown,e=Math.floor(t/86400);t-=86400*e;var i=Math.floor(t/3600);t-=3600*i;var r=Math.floor(t/60),n=t-=60*r;if(this.dateDisable=this.dateDisable||!1,0==e&&0==i&&0==r&&0==n)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(e>0&&!this.dateDisable){var o=this.dayFormat,a=o.indexOf("{1}");0==i&&a>-1&&(o=o.substring(0,a-1));var s=o;e>1&&o.indexOf("days")<0&&(s=s.replace("day","days")),e<2&&(s=s.replace("days","day")),this.result=this.replace(s,e,i)}else i+=24*e,this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(i),this.coverString(r),this.coverString(n)):this.result=this.replace(this.timeFormat,i,r,n);this.string=this.result},o.coverString=function(t){return t<10?"0"+t:t.toString()},o.setDateDisable=function(t){this.dateDisable=t},o.setTime=function(t){this.countDown=t,this.timing_end(),this.timing_start()},o.start=function(){this.timing_start()},o.onScheduleSecond=function(){this.countDown--,this.format(),this.onSecond&&this.onSecond(this.node),0==this.countDown&&this.onScheduleComplete()},o.onScheduleComplete=function(){this.timing_end(),this.onComplete&&this.onComplete(this.node)},o.timing_start=function(){this.schedule(this.onScheduleSecond,1),this.format()},o.timing_end=function(){this.unscheduleAllCallbacks(),this.format()},e}(s)).prototype,"countDown",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),g=e(d.prototype,"dayFormat",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0} day"}}),y=e(d.prototype,"timeFormat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0}:{1}:{2}"}}),v=e(d.prototype,"zeroize",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=d))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./Logger.ts","./LanguageData.ts","./LanguagePack.ts"],(function(e){"use strict";var n,a,t,g,u,s,r;return{setters:[function(e){n=e.inheritsLoose,a=e.createClass},function(e){t=e.cclegacy},function(e){g=e.EventDispatcher},function(e){u=e.Logger},function(e){s=e.LanguageData},function(e){r=e.LanguagePack}],execute:function(){var i;e("LanguageEvent",void 0),t._RF.push({},"3757cxZqLZObIdvP/gQ6Yuj","Language",void 0),function(e){e.CHANGE="LanguageEvent.CHANGE",e.RELEASE_RES="LanguageEvent.RELEASE_RES"}(i||(i=e("LanguageEvent",{})));e("LanguageManager",function(e){function t(){for(var n,a=arguments.length,t=new Array(a),g=0;g<a;g++)t[g]=arguments[g];return(n=e.call.apply(e,[this].concat(t))||this)._languages=["zh","en","tr"],n._languagePack=new r,n._defaultLanguage="zh",n}n(t,e);var g=t.prototype;return g.isExist=function(e){return this.languages.indexOf(e)>-1},g.getNextLang=function(){var e=this.languages,n=e.indexOf(s.current);return e[(n+1)%e.length]},g.setLanguage=function(e,n){var a=this;e=null==e||""==e?this._defaultLanguage:e.toLowerCase(),this.languages.indexOf(e)<0&&(console.log("当前不支持【"+e+"】语言，将自动切换到【"+this._defaultLanguage+"】语言"),e=this._defaultLanguage),e!==s.current?this.loadLanguageAssets(e,(function(t){u.logConfig("当前语言为【"+e+"】"),s.current=e,a._languagePack.updateLanguage(e),a.dispatchEvent(i.CHANGE,t),n(!0)})):n(!1)},g.getLangByID=function(e){return s.getLangByID(e)},g.loadLanguageAssets=function(e,n){return e=e.toLowerCase(),this._languagePack.loadLanguageAssets(e,n)},g.releaseLanguageAssets=function(e){e=e.toLowerCase(),this._languagePack.releaseLanguageAssets(e),this.dispatchEvent(i.RELEASE_RES,e)},a(t,[{key:"languages",get:function(){return this._languages},set:function(e){this._languages=e}},{key:"default",set:function(e){this._defaultLanguage=e||"zh"}},{key:"current",get:function(){return s.current}},{key:"pack",get:function(){return this._languagePack}}]),t}(g));t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"27fb3sjD81JlIP2KFTSWUp4","LanguageData",void 0);var n=t("LanguageData",function(){function t(){}return t.getLangByID=function(t){var e=this.json[t];if(e)return e;if(this.excel){var n=this.excel[t];if(n)return n[this.current]}return t},t}());n.current="",n.json={},n.excel=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./LanguageData.ts"],(function(t){"use strict";var e,a,n,i,r,o,s,p,u,c,l,g,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,n=t.inheritsLoose,i=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.CCString,u=t.Label,c=t.RichText,l=t.TTFFont,g=t.warn,h=t.Component},function(t){d=t.oops},function(t){f=t.LanguageData}],execute:function(){var y,m,b,L,_,v,D,z,I,S,k,F,w,C;o._RF.push({},"110c8vEd5NEPL/N9meGQnaX","LanguageLabel",void 0);var U=s.ccclass,P=s.property,O=s.menu,T=t("LangLabelParamsItem",U("LangLabelParamsItem")((b=e((m=function(){a(this,"key",b,this),a(this,"value",L,this)}).prototype,"key",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=e(m.prototype,"value",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=m))||y);t("LanguageLabel",(_=U("LanguageLabel"),v=O("ui/language/LanguageLabel"),D=P({type:T,displayName:"params"}),z=P({type:T,displayName:"params"}),I=P({serializable:!0}),S=P({type:p,serializable:!0}),_(k=v((w=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"_params",w,i(e)),a(e,"_dataID",C,i(e)),e.initFontSize=0,e._needUpdate=!1,e}n(e,t);var o=e.prototype;return o.language=function(){this._needUpdate=!0},o.onLoad=function(){this._needUpdate=!0},o.setVars=function(t,e){for(var a=!1,n=0;n<this._params.length;n++){var i=this._params[n];i.key===t&&(i.value=e,a=!0)}if(!a){var r=new T;r.key=t,r.value=e,this._params.push(r)}this._needUpdate=!0},o.update=function(){this._needUpdate&&(this.updateContent(),this._needUpdate=!1)},o.updateContent=function(){var t=this.getComponent(u),e=this.getComponent(c),a=d.language.pack.json+"/"+d.language.current,n=d.res.get(a,l);t?(n&&!t.useSystemFont&&(t.font=n),t.string=this.string,this.initFontSize=t.fontSize):e?(n&&!e.useSystemFont&&(e.font=n),this.initFontSize=e.fontSize,e.string=this.string,this.initFontSize=e.fontSize):g("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件")},r(e,[{key:"params",get:function(){return this._params||[]},set:function(t){this._params=t,this._needUpdate=!0}},{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this._needUpdate=!0}},{key:"string",get:function(){var t=f.getLangByID(this._dataID);return t&&this._params.length>0&&this._params.forEach((function(e){t=t.replace("%{"+e.key+"}",e.value)})),t||(g("[LanguageLabel] 未找到语言标识，使用dataID替换"),t=this._dataID),t}}]),e}(h)).prototype,"_params",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(F.prototype,"params",[z],Object.getOwnPropertyDescriptor(F.prototype,"params"),F.prototype),C=e(F.prototype,"_dataID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(F.prototype,"dataID",[S],Object.getOwnPropertyDescriptor(F.prototype,"dataID"),F.prototype),k=F))||k)||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./Oops.ts","./JsonUtil.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguageSprite.ts"],(function(n){"use strict";var e,t,o,i,a,r,u,s,l,g,c,f;return{setters:[function(n){e=n.asyncToGenerator},function(n){t=n.cclegacy,o=n.director,i=n.error,a=n.JsonAsset,r=n.TTFFont},function(n){u=n.Logger},function(n){s=n.oops},function(n){l=n.JsonUtil},function(n){g=n.LanguageData},function(n){c=n.LanguageLabel},function(n){f=n.LanguageSprite}],execute:function(){t._RF.push({},"2ffebyj59xIc4v4BZty8SDm","LanguagePack",void 0);n("LanguagePack",function(){function n(){this.json="language/json",this.texture="language/texture",this.spine="language/spine"}var t=n.prototype;return t.updateLanguage=function(n){for(var e=o.getScene().children,t=0;t<e.length;++t){for(var i=e[t].getComponentsInChildren(c),a=0;a<i.length;a++)i[a].language();for(var r=e[t].getComponentsInChildren(f),u=0;u<r.length;u++)r[u].language()}},t.loadLanguageAssets=function(){var n=e((function*(n,e){yield this.loadTexture(n),yield this.loadSpine(n),yield this.loadJson(n),yield this.loadTable(n),e(n)}));return function(e,t){return n.apply(this,arguments)}}(),t.loadTable=function(n){return new Promise(e((function*(n,e){g.excel=yield l.loadAsync("Language"),g.excel&&u.logConfig("config/game/Language","下载语言包 excel 资源"),n(null)})))},t.loadTexture=function(n){var e=this;return new Promise((function(t,o){var a=e.texture+"/"+n;s.res.loadDir(a,(function(n,e){if(n)return i(n),void t(null);u.logConfig(a,"下载语言包 textures 资源"),t(null)}))}))},t.loadJson=function(n){var e=this;return new Promise((function(t,o){var l=e.json+"/"+n;s.res.load(l,a,(function(n,e){if(n)return i(n),void t(null);g.json=e.json,u.logConfig(l,"下载语言包 json 资源"),s.res.load(l,r,(function(n){null==n&&u.logConfig(l,"下载语言包 ttf 资源"),t(null)}))}))}))},t.loadSpine=function(n){var e=this;return new Promise((function(t,o){var a=e.spine+"/"+n;s.res.loadDir(a,(function(n,e){if(n)return i(n),void t(null);u.logConfig(a,"下载语言包 spine 资源"),t(null)}))}))},t.releaseLanguageAssets=function(n){var e=this.texture+"/"+n;s.res.releaseDir(e),u.logView(e,"释放语言 texture 资源");var t=this.json+"/"+n;s.res.release(t),u.logView(t,"释放语言文字资源");var o=this.spine+"/"+n;s.res.release(o),u.logView(o,"释放语言 spine 资源")},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./LanguageData.ts"],(function(t){"use strict";var e,r,a,i,n,o,p,u,s,c,l,g,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,p=t._decorator,u=t.CCString,s=t.SpriteFrame,c=t.Sprite,l=t.UITransform,g=t.Component},function(t){f=t.oops},function(t){S=t.LanguageData}],execute:function(){var d,y,h,D,b,m,z,I,L;o._RF.push({},"11b96k/RIZF57Loehxyl6Hs","LanguageSprite",void 0);var v=p.ccclass,_=p.property,w=p.menu;t("LanguageSprite",(d=v("LanguageSprite"),y=w("ui/language/LanguageSprite"),h=_({serializable:!0}),D=_({type:u,serializable:!0}),b=_({tooltip:"是否设置为图片原始资源大小"}),d(m=y((I=e((z=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"_dataID",I,i(e)),a(e,"isRawSize",L,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){this.updateSprite()},o.language=function(){this.updateSprite()},o.updateSprite=function(){var t="language/texture/"+S.current+"/"+this.dataID+"/spriteFrame",e=f.res.get(t,s);if(e){var r=this.getComponent(c);if(r.spriteFrame=e,this.isRawSize){var a,i=e._originalSize;null==(a=r.getComponent(l))||a.setContentSize(i)}}else console.error("[LanguageSprite] 资源不存在 "+t)},n(e,[{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this.updateSprite()}}]),e}(g)).prototype,"_dataID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(z.prototype,"dataID",[D],Object.getOwnPropertyDescriptor(z.prototype,"dataID"),z.prototype),L=e(z.prototype,"isRawSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=z))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./LayerPopup.ts"],(function(t){"use strict";var a,e,i,s;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.ViewParams},function(t){s=t.LayerPopUp}],execute:function(){e._RF.push({},"dcad5w8wHlEDJpIKJ4gUxEP","LayerDialog",void 0);t("LayerDialog",function(t){function e(){for(var a,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(a=t.call.apply(t,[this].concat(i))||this).params=[],a}a(e,t);var s=e.prototype;return s.add=function(t,a,e){if(this.black.enabled=!0,this.current&&this.current.valid){var i=this.getUuid(t.prefab);return this.params.push({config:t,params:a,callbacks:e}),i}return this.show(t,a,e)},s.show=function(t,a,e){var s=this,n=t.prefab,r=this.getUuid(n),u=this.ui_nodes.get(r);null==u&&((u=new i).uuid=this.getUuid(n),u.prefabPath=n,u.valid=!0,this.ui_nodes.set(u.uuid,u)),u.callbacks=null!=e?e:{};var c=u.callbacks.onRemoved;return u.callbacks.onRemoved=function(t,a){c&&c(t,a),setTimeout((function(){s.next()}),0)},u.params=a||{},this.current=u,this.load(u,t.bundle),r},s.setBlackDisable=function(){0==this.params.length&&(this.black.enabled=!1)},s.next=function(){if(this.params.length>0){var t=this.params.shift();this.show(t.config,t.params,t.callbacks)}},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GUI.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts","./UIMap.ts"],(function(e){"use strict";var i,t,a,o,n,s,r,u,p,c,h,d,l,f,y;return{setters:[function(e){i=e.createClass,t=e.asyncToGenerator},function(e){a=e.cclegacy,o=e.warn,n=e.Node,s=e.Layers,r=e.Widget,u=e.Camera},function(e){p=e.GUI},function(e){c=e.DelegateComponent},function(e){h=e.LayerDialog},function(e){d=e.LayerNotify},function(e){l=e.LayerPopUp},function(e){f=e.LayerUI},function(e){y=e.UIMap}],execute:function(){var g;e("LayerType",void 0),a._RF.push({},"7ba675xFGdHqIOykTysNzEu","LayerManager",void 0),function(e){e.Game="LayerGame",e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.System="LayerSystem",e.Notify="LayerNotify",e.Guide="LayerGuide"}(g||(g=e("LayerType",{})));e("LayerManager",function(){var e=a.prototype;function a(e){this.configs={},this.root=e,this.camera=this.root.getComponentInChildren(u),this.game=this.create_node(g.Game),this.ui=new f(g.UI),this.popup=new l(g.PopUp),this.dialog=new h(g.Dialog),this.system=new h(g.System),this.notify=new d(g.Notify),this.guide=this.create_node(g.Guide),e.addChild(this.game),e.addChild(this.ui),e.addChild(this.popup),e.addChild(this.dialog),e.addChild(this.system),e.addChild(this.notify),e.addChild(this.guide)}return e.init=function(e){this.configs=e},e.toast=function(e,i){void 0===i&&(i=!1),this.notify.show(e,i)},e.setConfig=function(e,i){this.configs[e]=i},e.setUIMap=function(e){null==this.uiMap&&(this.uiMap=new y),this.uiMap.init(this,e)},e.open=function(e,i,t){void 0===i&&(i=null);var a=this.configs[e];if(null!=a)switch(a.layer){case g.UI:this.ui.add(a,i,t);break;case g.PopUp:this.popup.add(a,i,t);break;case g.Dialog:this.dialog.add(a,i,t);break;case g.System:this.system.add(a,i,t)}else o("打开编号为【"+e+"】的界面失败，配置信息不存在")},e.openAsync=function(){var e=t((function*(e,i){var t=this;return void 0===i&&(i=null),new Promise((function(a,o){var n={onAdded:function(e,i){a(e)}};t.open(e,i,n)}))}));return function(i,t){return e.apply(this,arguments)}}(),e.has=function(e){var i=this.configs[e];if(null==i)return o("编号为【"+e+"】的界面失败，配置信息不存在"),!1;var t=!1;switch(i.layer){case g.UI:t=this.ui.has(i.prefab);break;case g.PopUp:t=this.popup.has(i.prefab);break;case g.Dialog:t=this.dialog.has(i.prefab);break;case g.System:t=this.system.has(i.prefab)}return t},e.remove=function(e,i){void 0===i&&(i=!0);var t=this.configs[e];if(null!=t)switch(t.layer){case g.UI:this.ui.remove(t.prefab,i);break;case g.PopUp:this.popup.remove(t.prefab,i);break;case g.Dialog:this.dialog.remove(t.prefab,i);break;case g.System:this.system.remove(t.prefab,i)}else o("删除编号为【"+e+"】的界面失败，配置信息不存在")},e.removeByNode=function(e,i){if(void 0===i&&(i=!1),e instanceof n){var t=e.getComponent(c);t&&t.viewParams?e.parent.removeByUuid(t.viewParams.uuid,i):(o("当前删除的node不是通过界面管理器添加到舞台上"),e.destroy())}},e.clear=function(e){void 0===e&&(e=!1),this.ui.clear(e),this.popup.clear(e),this.dialog.clear(e),this.system.clear(e)},e.create_node=function(e){var i=new n(e);i.layer=s.Enum.UI_2D;var t=i.addComponent(r);return t.isAlignLeft=t.isAlignRight=t.isAlignTop=t.isAlignBottom=!0,t.left=t.right=t.top=t.bottom=0,t.alignMode=2,t.enabled=!0,i},i(a,[{key:"portrait",get:function(){return this.root.getComponent(p).portrait}}]),a}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Notify.ts","./Defines.ts","./DelegateComponent.ts","./LayerUI.ts"],(function(t){"use strict";var e,n,o,a,i,r,s,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.error,a=t.instantiate},function(t){i=t.oops},function(t){r=t.Notify},function(t){s=t.ViewParams},function(t){u=t.DelegateComponent},function(t){c=t.LayerUI}],execute:function(){n._RF.push({},"da14ax+B2xNsL2taQFOh7we","LayerNotify",void 0);var f="common/prefab/notify";t("LayerNotify",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.show=function(t,e){var n=new s;n.uuid=this.getUuid(f),n.prefabPath=f,n.params={content:t,useI18n:e},n.callbacks={},n.valid=!0,this.ui_nodes.set(n.uuid,n),this.load(n)},c.load=function(t){var e=this;i.res.load(t.prefabPath,(function(n,i){n&&o(n);var r=a(i);t.node=r,r.addComponent(u).viewParams=t,e.createNode(t)}))},c.createNode=function(e){var n=t.prototype.createNode.call(this,e),o=n.getComponent(r);return n.active=!0,o.toast(e.params.content,e.params.useI18n),n},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerUI.ts"],(function(t){"use strict";var e,i,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Layers,a=t.BlockInputEvents},function(t){o=t.LayerUI}],execute:function(){i._RF.push({},"25d07BQBCFADaSsh/I3GrTX","LayerPopup",void 0);t("LayerPopUp",function(t){function i(e){var i;return(i=t.call(this,e)||this).init(),i}e(i,t);var o=i.prototype;return o.init=function(){this.layer=n.Enum.UI_2D,this.black=this.addComponent(a),this.black.enabled=!1},o.add=function(e,i,n){return this.black.enabled=!0,t.prototype.add.call(this,e,i,n)},o.remove=function(e,i){t.prototype.remove.call(this,e,i),this.setBlackDisable()},o.removeByUuid=function(e,i){t.prototype.removeByUuid.call(this,e,i),this.setBlackDisable()},o.setBlackDisable=function(){this.black.enabled=!1},o.clear=function(e){t.prototype.clear.call(this,e),this.black.enabled=!1,this.active=!1},i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Defines.ts","./DelegateComponent.ts"],(function(e){"use strict";var t,n,i,r,a,o,u,s,d,c,h,l;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,r=e.warn,a=e.error,o=e.instantiate,u=e.isValid,s=e.Widget,d=e.Node},function(e){c=e.oops},function(e){h=e.ViewParams},function(e){l=e.DelegateComponent}],execute:function(){i._RF.push({},"bc8b86Br9dGeKxeLijkyJKE","LayerUI",void 0);e("LayerUI",function(e){function i(t){var n;(n=e.call(this,t)||this).ui_nodes=new Map,n.ui_cache=new Map;var i=n.addComponent(s);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,n}t(i,e);var d=i.prototype;return d.getUuid=function(e){return(this.name+"_"+e).replace(/\//g,"_")},d.add=function(e,t,n){var i=e.prefab,a=this.getUuid(i),o=this.ui_nodes.get(a);return o&&o.valid?(r("路径为【"+i+"】的预制重复加载"),""):(null==o&&((o=new h).uuid=a,o.prefabPath=i,this.ui_nodes.set(o.uuid,o)),o.params=null!=t?t:{},o.callbacks=null!=n?n:{},o.valid=!0,this.load(o,e.bundle),a)},d.load=function(e,t){var n=this,i=this.ui_nodes.get(e.uuid);i&&i.node?this.createNode(i):(t=t||c.res.defaultBundleName,c.res.load(t,e.prefabPath,(function(t,i){t&&a(t);var r=o(i);e.node=r,r.addComponent(l).viewParams=e,n.createNode(e)})))},d.createNode=function(e){return e.valid=!0,e.node.getComponent(l).add(),e.node.parent=this,e.node},d.remove=function(e,t){t&&this.removeCache(e);for(var n=this.__nodes(),i=0;i<n.length;i++){var r=n[i].viewParams;r.prefabPath===e&&(t?this.ui_nodes.delete(r.uuid):this.ui_cache.set(r.prefabPath,r),n[i].remove(t),r.valid=!1)}},d.removeByUuid=function(e,t){var n=this.ui_nodes.get(e);n&&(t&&this.ui_nodes.delete(n.uuid),n.node.getComponent(l).remove(t))},d.removeCache=function(e){var t=this.ui_cache.get(e);t&&(this.ui_nodes.delete(t.uuid),this.ui_cache.delete(e),t.node.destroy())},d.getByUuid=function(e){for(var t,i=this.__nodes(),r=n(i);!(t=r()).done;){var a=t.value;if(a.viewParams&&a.viewParams.uuid===e)return a.node}return null},d.get=function(e){for(var t,i=[],r=this.__nodes(),a=n(r);!(t=a()).done;){var o=t.value;o.viewParams.prefabPath===e&&i.push(o.node)}return i},d.has=function(e){for(var t,i=this.__nodes(),r=n(i);!(t=r()).done;){var a=t.value;if(a.viewParams.uuid===e||a.viewParams.prefabPath===e)return!0}return!1},d.find=function(e){for(var t,i=[],r=this.__nodes(),a=n(r);!(t=a()).done;){var o=t.value;e.test(o.viewParams.prefabPath)&&i.push(o.node)}return i},d.__nodes=function(){for(var e=[],t=this.children,n=0;n<t.length;n++){var i=t[n].getComponent(l);i&&i.viewParams&&i.viewParams.valid&&u(i)&&e.push(i)}return e},d.size=function(){return this.children.length},d.clear=function(e){var t=this;this.ui_nodes.forEach((function(n,i){t.removeByUuid(n.uuid,e),n.valid=!1})),this.ui_nodes.clear(),e&&this.ui_cache.forEach((function(e,n){t.removeCache(n)}))},i}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);var r=e("LayerItem",function(){function e(e,n){this._value=void 0,this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),u=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());u.MAP=new r(0,"MAP"),u.AVATAR=new r(1,"AVATAR"),u.IGNORE_RAYCAST=new r(20,"IGNORE_RAYCAST"),u.GIZMOS=new r(21,"GIZMOS"),u.EDITOR=new r(22,"EDITOR"),u.UI_3D=new r(23,"UI_3D"),u.SCENE_GIZMO=new r(24,"SCENE_GIZMO"),u.UI_2D=new r(25,"UI_2D"),u.PROFILTER=new r(28,"PROFILTER"),u.DEFAULT=new r(30,"DEFAULT"),t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingIndicator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,n,r,e,a,l,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,l=t.Node,c=t.Component}],execute:function(){var s,u,d,p,g;e._RF.push({},"95143M/82NCOLKGzw14JlmS","LoadingIndicator",void 0);var h=a.ccclass,f=a.property;t("LoadingIndicator",(s=h("LoadingIndicator"),u=f(l),s((g=i((p=function(t){function i(){for(var i,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return i=t.call.apply(t,[this].concat(e))||this,n(i,"loading",g,r(i)),i.loading_rotate=0,i}return o(i,t),i.prototype.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},i}(c)).prototype,"loading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./CCVMParentComp.ts","./GameUIConfig.ts"],(function(t){"use strict";var o,n,a,e,i,s,r,l;return{setters:[function(t){o=t.inheritsLoose,n=t.asyncToGenerator},function(t){a=t.cclegacy,e=t._decorator},function(t){i=t.oops},function(t){s=t.ecs},function(t){r=t.CCVMParentComp},function(t){l=t.UIID}],execute:function(){var c;a._RF.push({},"92429ykTnxFCrcGyW58JWjj","LoadingViewComp",void 0);var g=e.ccclass;e.property,t("LoadingViewComp",g("LoadingViewComp")(c=s.register("LoadingView",!1)(c=function(t){function a(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this).data={finished:0,total:0,progress:"0",prompt:""},o.timer=3,o.progress=0,o}o(a,t);var e=a.prototype;return e.reset=function(){this.data.prompt=i.language.getLangByID("loading_load_player"),i.gui.open(l.Main),i.gui.remove(l.Loading)},e.start=function(){this.enter()},e.enter=function(){this.loadRes()},e.loadRes=function(){var t=n((function*(){this.data.progress=0,yield this.loadCustom(),this.loadGameRes()}));return function(){return t.apply(this,arguments)}}(),e.loadCustom=function(){this.data.prompt=i.language.getLangByID("loading_load_json")},e.loadGameRes=function(){this.data.prompt=i.language.getLangByID("loading_load_game"),i.res.loadDir("game",this.onProgressCallback.bind(this),this.onCompleteCallback.bind(this))},e.onProgressCallback=function(t,o,n){this.data.finished=t,this.data.total=o;var a=t/o;a>this.progress&&(this.progress=a,this.data.progress=(100*a).toFixed(2))},e.onCompleteCallback=function(){this.ent.remove(a)},a}(r))||c)||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){"use strict";var n,i;return{setters:[function(t){n=t.cclegacy,i=t.log}],execute:function(){var e;t("LogType",void 0),n._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0),function(t){t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace"}(e||(e=t("LogType",{})));var o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},s=t("Logger",function(){function t(){}return t.init=function(){this.tags=e.Net|e.Model|e.Business|e.View|e.Config|e.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t,n){this.isOpen(e.Trace)&&console.table(t)},t.trace=function(t,n){(void 0===n&&(n="color:#000000;"),this.isOpen(e.Trace))&&(console.log||i).call(null,"%c%s%s",n,this.getDateString(),t)},t.logNet=function(t,n){this.orange(e.Net,t,n)},t.logModel=function(t,n){this.violet(e.Model,t,n)},t.logBusiness=function(t,n){this.blue(e.Business,t,n)},t.logView=function(t,n){this.green(e.View,t,n)},t.logConfig=function(t,n){this.gray(e.Config,t,n)},t.orange=function(t,n,i){this.print(t,n,"color:#ee7700;",i)},t.violet=function(t,n,i){this.print(t,n,"color:Violet;",i)},t.blue=function(t,n,i){this.print(t,n,"color:#3a5fcd;",i)},t.green=function(t,n,i){this.print(t,n,"color:green;",i)},t.gray=function(t,n,i){this.print(t,n,"color:gray;",i)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,e,s){if(this.isOpen(t)){var r=console.log||i,c=o[t];s?r.call(null,"%c%s%s%s:%s%o",e,this.getDateString(),"["+c+"]",this.stack(5),s,n):r.call(null,"%c%s%s%s:%o",e,this.getDateString(),"["+c+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),i=[];n.forEach((function(t){var n,e=(t=t.substring(7)).split(" ");e.length<2?i.push(e[0]):i.push(((n={})[e[0]]=e[1],n))}));var e,o=[],s=[];if(t<i.length-1)for(var r in i[t]){if(2==(s=r.split(".")).length)o=s.concat();else{var c=(e=i[t][r]).lastIndexOf("/"),l=e.lastIndexOf(".");if(c>-1&&l>-1){var g=e.substring(c+1,l);o.push(g)}else o.push(e)}}return 1==o.length?"["+o[0]+".ts]":2==o.length?"["+o[0]+".ts->"+o[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),i="";return i+=(1==n.length?"0"+n:n)+":",i+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",i+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),i="["+(i+=n)+"]"},t}());s.tags=0,s.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Main.ts","./Chess.ts","./ChessMoveBll.ts","./ChessModel.ts","./EChessRecord.ts","./ChessControllerView.ts","./Chessboard2.ts","./PathFindBll.ts","./BoardPointModel.ts","./ChessboardModel.ts","./EChessboardRecord.ts","./BoardPoint.ts","./Chessboard.ts","./SingletonModuleComp.ts","./GameEvent.ts","./GameUIConfig.ts","./TablePromptWindow.ts","./Initialize.ts","./InitRes.ts","./LoadingViewComp.ts","./MainView.ts","./Player.ts","./AIManagerBll.ts","./OwnChessBll.ts","./EPlayerRecord.ts","./PlayerModel.ts","./PlayerControllView.ts","./Room.ts","./GameManagerBll.ts","./ResultBll.ts","./SettingBll.ts","./RoomModel.ts","./SettingModel.ts","./DiceItem.ts","./GameLoadingView.ts","./GameView.ts","./ResultView.ts","./SettingView.ts","./CompJoystick.ts","./Oops.ts","./Root.ts","./AudioEffect.ts","./AudioManager.ts","./AudioMusic.ts","./EventDispatcher.ts","./EventMessage.ts","./MessageManager.ts","./ResLoader.ts","./Logger.ts","./RandomManager.ts","./StorageManager.ts","./Timer.ts","./TimerManager.ts","./GameCollision.ts","./GameComponent.ts","./GameManager.ts","./GUI.ts","./Defines.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerManager.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts","./UIMap.ts","./CommonPrompt.ts","./LoadingIndicator.ts","./Notify.ts","./ArrayUtil.ts","./CameraUtil.ts","./EncryptUtil.ts","./ImageUtil.ts","./JsonUtil.ts","./LayerUtil.ts","./MathUtil.ts","./ObjectUtil.ts","./PhysicsUtil.ts","./PlatformUtil.ts","./RegexUtil.ts","./RotateUtil.ts","./StringUtil.ts","./Vec3Util.ts","./ViewUtil.ts","./AsyncQueue.ts","./Collection.ts","./ECS.ts","./ECSComp.ts","./ECSEntity.ts","./ECSGroup.ts","./ECSMask.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts","./LabelChange.ts","./LabelNumber.ts","./LabelTime.ts","./Language.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguagePack.ts","./LanguageSprite.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMCompsEdit.ts","./VMCustom.ts","./VMEnv.ts","./VMEvent.ts","./VMLabel.ts","./VMModify.ts","./VMParent.ts","./VMProgress.ts","./VMState.ts","./ViewModel.ts","./BhvButtonGroup.ts","./BhvFrameIndex.ts","./BhvRollNumber.ts","./BhvSwitchPage.ts","./CCComp.ts","./CCVMParentComp.ts","./BuildTimeConstants.ts","./Config.ts","./GameConfig.ts","./GameQueryConfig.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Root.ts","./ECS.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./Initialize.ts","./Room.ts","./Chessboard2.ts","./Player.ts","./Chess.ts"],(function(t){"use strict";var n,i,s,e,o,c,u,a,r,f,l,d,y,p;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){e=t.oops},function(t){o=t.Root},function(t){c=t.ecs},function(t){u=t.UIConfigData},function(t){a=t.smc},function(t){r=t.Initialize,f=t.EcsInitializeSystem},function(t){l=t.EcsRoomSystem},function(t){d=t.EcsChessboardSystem},function(t){y=t.EcsPlayerSystem},function(t){p=t.EcsChessSystem}],execute:function(){var m;i._RF.push({},"0eec0s4qrZF7onPlYBrD+y+","Main",void 0);var h=s.ccclass;s.property,t("Main",h("Main")(m=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.start=function(){},s.run=function(){a.initialize=c.getEntity(r)},s.initGui=function(){e.gui.init(u)},s.initEcsSystem=function(){e.ecs.add(new f),e.ecs.add(new l),e.ecs.add(new d),e.ecs.add(new y),e.ecs.add(new p)},i}(o))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/MainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts","./SingletonModuleComp.ts","./Room.ts","./SettingBll.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,u,l,c,p,f,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Toggle},function(t){l=t.ecs},function(t){c=t.CCComp},function(t){p=t.oops},function(t){f=t.smc},function(t){h=t.Room},function(t){d=t.SettingBllComp}],execute:function(){var m,y,S,g,C,w,v,b,B,N,M,T;r._RF.push({},"faa7etkAr1NXI4MwsCp9HOQ","MainView",void 0);var V=a.ccclass,z=a.property;t("MainViewComp",(m=V("MainViewComp"),y=l.register("MainView",!1),S=z({type:s,tooltip:"开始游戏按钮"}),g=z({type:s,tooltip:"音效按钮"}),C=z({type:s,tooltip:"游戏标题名字"}),w=z({type:s,tooltip:"飞机图标"}),m(v=y((B=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"BtnStart",B,o(e)),i(e,"BtnSound",N,o(e)),i(e,"TitleName",M,o(e)),i(e,"NodePlane",T,o(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.BtnStart.on(s.EventType.TOUCH_END,this.startGame,this),this.BtnSound.on(s.EventType.TOUCH_END,this.setSound,this),this.BtnSound.getComponent(u).isChecked=!1,p.audio.switchMusic=!0},r.start=function(){},r.startGame=function(){this.setViewShow(!1),f.room||(f.room=l.getEntity(h)),f.room.add(d)},r.setViewShow=function(t){this.BtnStart.active=t,this.BtnSound.active=t,this.TitleName.active=t;for(var e=0;e<this.NodePlane.length;e++)this.NodePlane[e].active=t},r.setSound=function(){p.audio.switchMusic=this.BtnSound.getComponent(u).isChecked},r.reset=function(){},e}(c)).prototype,"BtnStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(b.prototype,"BtnSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(b.prototype,"TitleName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(b.prototype,"NodePlane",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=b))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8c615ZS4PRMPKPA9ZqKjiJC","MathUtil",void 0);var r=t("MathUtil",function(){function t(){}return t.sign=function(t){return t>0?1:t<0?-1:0},t.progress=function(t,n,r){return t+(n-t)*r},t.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},t.lerpAngle=function(n,r,e){var u=(r%=360)-(n%=360);return u>180?r=n-(360-u):u<-180&&(r=n+(360+u)),(t.lerp(n,r,e)%360+360)%360},t.angleTowards=function(t,n,r){var e=(n%=360)-(t%=360);e>180?n=t-(360-e):e<-180&&(n=t+(360+e));var u=n-t;return r>Math.abs(u)?n:((t+r*Math.sign(u))%360+360)%360},t.clamp=function(t,n,r){return t<n?n:t>r?r:t},t.probability=function(t){return Math.random()<t},t}());r.deg2Rad=Math.PI/180,r.rad2Deg=180/Math.PI,n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,s,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e.warn,o=e.log}],execute:function(){n._RF.push({},"a401fY+wj9NsqOACoZ7Zy/R","MessageManager",void 0);var i=function(){this.object=void 0},r=(e("MessageEventData",function(){function e(){this.events={}}var n=e.prototype;return n.on=function(e,t,n){var s=this.events[e];null==s&&(s=[],this.events[e]=s);var o=new i;o.event=e,o.listener=t,o.object=n,s.push(o),r.Instance.on(e,t,n)},n.off=function(e){var n=this.events[e];if(n){for(var s,o=t(n);!(s=o()).done;){var i=s.value;r.Instance.off(e,i.listener,i.object)}delete this.events[e]}},n.dispatchEvent=function(e,t){void 0===t&&(t=null),r.Instance.dispatchEvent(e,t)},n.clear=function(){for(var e in this.events)this.off(e)},e}()),e("MessageManager",function(){function e(){this.events={}}var t=e.prototype;return t.on=function(e,t,n){if(e&&t){var o=this.events[e];null==o&&(o=[],this.events[e]=o);for(var r=o.length,a=0;a<r;a++){var c=o[a];c.listener==t&&c.object==n&&s("名为【"+e+"】的事件重复注册侦听器")}var v=new i;v.event=e,v.listener=t,v.object=n,o.push(v)}else s("注册【"+e+"】事件的侦听器函数为空")},t.once=function(e,t,n){var s=this,o=function(i,r){s.off(e,o,n),o=null,t.call(n,i,r)};this.on(e,o,n)},t.off=function(e,t,n){var s=this.events[e];if(s){for(var i=s.length,r=0;r<i;r++){var a=s[r];if(a.listener==t&&a.object==n){s.splice(r,1);break}}0==s.length&&delete this.events[e]}else o("名为【"+e+"】的事件不存在")},t.dispatchEvent=function(e,t){void 0===t&&(t=null);var n=this.events[e];if(null!=n)for(var s=n.concat(),o=s.length,i=0;i<o;i++){var r=s[i];r.listener.call(r.object,e,t)}},e}()));r.Instance=new r,n._RF.pop()}}}));

System.register("chunks:///_virtual/Notify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts"],(function(t){"use strict";var n,e,i,o,a,r,l,c,s,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Label,c=t.Animation,s=t.Component},function(t){u=t.LanguageLabel}],execute:function(){var p,f,b,h,y,d,g;a._RF.push({},"01391Mp6X1Gn554rkzavN4K","Notify",void 0);var m=r.ccclass,v=r.property;t("Notify",(p=m("Notify"),f=v(l),b=v(c),p((d=n((y=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"lab_content",d,o(n)),i(n,"animation",g,o(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.animation&&this.animation.on(c.EventType.FINISHED,this.onFinished,this)},a.onFinished=function(){this.node.destroy()},a.toast=function(t,n){var e=this.lab_content.getComponent(u);n?(e.enabled=!0,e.dataID=t):(e.enabled=!1,this.lab_content.string=t)},n}(s)).prototype,"lab_content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(y.prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=this.deepCopy(t[c]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Oops.ts",["cc","./ECS.ts","./Config.ts","./MessageManager.ts","./ResLoader.ts","./Logger.ts","./RandomManager.ts","./StorageManager.ts"],(function(e){"use strict";var n,o,t,s,a,i,g,r;return{setters:[function(e){n=e.cclegacy},function(e){o=e.ecs},function(e){t=e.Config},function(e){s=e.MessageManager},function(e){a=e.ResLoader},function(e){i=e.Logger},function(e){g=e.RandomManager},function(e){r=e.StorageManager}],execute:function(){n._RF.push({},"cbae5wzfSZGzZMuyeAetSfg","Oops",void 0);e("version","1.1.3");var c=e("oops",(function(){}));c.log=i,c.config=new t,c.message=s.Instance,c.random=g.instance,c.storage=new r,c.timer=void 0,c.audio=void 0,c.gui=void 0,c.game=void 0,c.res=new a,c.language=void 0,c.ecs=new o.RootSystem,n._RF.pop()}}}));

System.register("chunks:///_virtual/OwnChessBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./Chess.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var s,t,n,r,l;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.ecs},function(e){r=e.Chess},function(e){l=e.smc}],execute:function(){var o;t._RF.push({},"0d4adKgjqpGP4zrVt2Rpwyk","OwnChessBll",void 0);e("OwnChessBllComp",n.register("OwnChessBll")(o=function(e){function t(){for(var s,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(s=e.call.apply(e,[this].concat(n))||this).player=null,s}s(t,e);var o=t.prototype;return o.createOwnChess=function(){this.player||(this.player=this.ent);for(var e=0;e<4;e++){var s=n.getEntity(r);s.ChessModel.initData(e,this.player.PlayerModel.camp,this.player),s.loadChessNode(),s.ChessControllerView.initUI(),this.player.PlayerModel.addChess(s),l.room.chessboard.ChessboardModel.addChess(s)}},o.getChessCanAction=function(){for(var e=!1,s=0;s<this.player.PlayerModel.chess.length;s++)this.player.PlayerModel.chess[s].setCanAction()&&(e=!0);return e},o.reset=function(){this.player=null},t}(n.Comp))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/PathFindBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessboardRecord.ts"],(function(t){"use strict";var o,i,n,e,s,r,h,p,a;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.ecs},function(t){e=t.ESpecialMoveType,s=t.BlockPointCamp,r=t.LongDistanceStep,h=t.ShortFlyStep,p=t.EBoardPointType,a=t.StartPointCamp}],execute:function(){var P;i._RF.push({},"30e6fAQoFtKHoOYMiXgqJbB","PathFindBll",void 0);var m=t("PathFindBllComp",n.register("PathFindBll")(P=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).chessboard=null,o._tempPoints=null,o}o(i,t);var n=i.prototype;return n.getHomePoint=function(t){this._tempPoints=this.chessboard.BoardPointModel.pointsHome;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].Camp===t.ChessModel.camp&&this._tempPoints[o].Idx===t.ChessModel.idx)return this._tempPoints[o]},n.getBlockPoint=function(t){this._tempPoints=this.chessboard.BoardPointModel.pointsSingle;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].SpecialType===e.Block&&this._tempPoints[o].Camp===s[t.ChessModel.camp])return this._tempPoints[o]},n.getLongDistanceMovePoint=function(t){return this.getCommonPoint(t.Idx+r)},n.getShortMovePoint=function(t){return this.getCommonPoint(t.Idx+h)},n.getNextMovePoint=function(t,o){return o.SpecialType===e.Home?this.getPreparePoint(t):o.SpecialType===e.Prepare?this.getStartPoint(t):o.SpecialType===e.Turn?o.Camp===t?this.getSinglePoint(t,this.chessboard.BoardPointModel.pointSingleMinIdx):this.getCommonPoint(o.Idx+1):o.Type===p.Single?this.getSinglePoint(t,o.Idx+1):this.getCommonPoint(o.Idx+1)},n.getLastMovePoint=function(t,o){return o.Idx===this.chessboard.BoardPointModel.pointSingleMinIdx?this.getTurnPoint(t):o.SpecialType===e.Start&&o.Camp===a[t]?this.getPreparePoint(t):o.Type===p.Single?this.getSinglePoint(t,o.Idx-1):this.getCommonPoint(o.Idx-1)},n.getPreparePoint=function(t){this._tempPoints=this.chessboard.BoardPointModel.pointsPrepare;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].Camp===t)return this._tempPoints[o]},n.getStartPoint=function(t){this._tempPoints=this.chessboard.BoardPointModel.pointsCommon;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].SpecialType===e.Start&&this._tempPoints[o].Camp===a[t])return this._tempPoints[o]},n.getTurnPoint=function(t){this._tempPoints=this.chessboard.BoardPointModel.pointsCommon;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].SpecialType===e.Turn&&this._tempPoints[o].Camp===t)return this._tempPoints[o]},n.getSinglePoint=function(t,o){this._tempPoints=this.chessboard.BoardPointModel.pointsSingle;for(var i=0;i<this._tempPoints.length;i++)if(this._tempPoints[i].Camp===t&&this._tempPoints[i].Idx===o)return this._tempPoints[i]},n.getCommonPoint=function(t){t>this.chessboard.BoardPointModel.pointCommonMaxIdx&&(t+=this.chessboard.BoardPointModel.pointCommonMinIdx-this.chessboard.BoardPointModel.pointCommonMaxIdx),t<this.chessboard.BoardPointModel.pointCommonMinIdx&&(t+=this.chessboard.BoardPointModel.pointCommonMaxIdx-this.chessboard.BoardPointModel.pointCommonMinIdx),this._tempPoints=this.chessboard.BoardPointModel.pointsCommon;for(var o=0;o<this._tempPoints.length;o++)if(this._tempPoints[o].Idx===t)return this._tempPoints[o]},n.reset=function(){},i}(n.Comp))||P);t("PathFindBllSystem",function(t){function i(){return t.apply(this,arguments)||this}o(i,t);var e=i.prototype;return e.filter=function(){return n.allOf(m)},e.entityEnter=function(t){t.PathFindBll.chessboard=t},i}(n.ComblockSystem));i._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c1584nuvI9HtJ5IHcmFEBzR","PhysicsUtil",void 0);var u=e("GroupItem",function(){function e(e,t){this._value=void 0,this._value=e,this._name=t}return t(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),i=e("PhysicsUtil",function(){function e(){}return e.setNodeLayer=function(t,n){n.layer=t.mask,n.children.forEach((function(n){n.layer=t.mask,e.setNodeLayer(t,n)}))},e}());i.DEFAULT=new u(0,"DEFAULT"),i.GAME_OBJECT_SELECT=new u(1,"GAME_OBJECT_SELECT"),i.GAME_OWNER=new u(2,"GAME_OWNER"),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){"use strict";var i,n,r;return{setters:[function(t){i=t.cclegacy,n=t.native,r=t.sys}],execute:function(){i._RF.push({},"c08229jnmdPP5vR721N6GG9","PlatformUtil",void 0);t("PlatformUtil",function(){function t(){}return t.isNativeAndroid=function(){return void 0!==n&&!(!r.isNative||r.platform!==r.Platform.ANDROID)},t.isNativeIOS=function(){return void 0!==n&&!(!r.isNative||r.os!==r.OS.IOS)},t.getPlateform=function(){return this.isNativeAndroid()?"android":this.isNativeIOS()?"ios":"h5"},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./SingletonModuleComp.ts","./AIManagerBll.ts","./OwnChessBll.ts","./PlayerModel.ts"],(function(e){"use strict";var t,s,n,o,r,i,l,a,c,u;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy},function(e){o=e.oops},function(e){r=e.ecs},function(e){i=e.smc},function(e){l=e.AIManagerBllComp,a=e.AIManagerBllSystem},function(e){c=e.OwnChessBllComp},function(e){u=e.PlayerModelComp}],execute:function(){var h;n._RF.push({},"3318fG4NhNCsJnUBvI43tMR","Player",void 0);e("Player",r.register("Player")(h=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.init=function(){this.addComponents(u,c)},r.setMoveChess=function(){this.isOwner?o.gui.toast("请玩家选择移动的棋子"):this.AIManagerBll.selectMoveChess()},r.selectedChess=function(){for(var e=0;e<this.PlayerModel.chess.length;e++)this.PlayerModel.chess[e].ChessControllerView.setTouchEnable(!1)},r.isWon=function(){for(var e=0;e<this.PlayerModel.chess.length;e++)if(!this.PlayerModel.chess[e].isStayEnd)return!1;return i.room.GameManagerBll.gameEnd(this),!0},r.destroy=function(){this.remove(l),this.remove(c),this.remove(u),e.prototype.destroy.call(this)},s(n,[{key:"isOwner",get:function(){return this===i.room.owner}},{key:"wonChessCount",get:function(){for(var e=0,t=0;t<this.PlayerModel.chess.length;t++)this.PlayerModel.chess[t].isStayEnd&&e++;return e}}]),n}(r.Entity))||h),e("EcsPlayerSystem",function(e){function s(){var t;return(t=e.call(this)||this).add(new a),t}return t(s,e),s}(r.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerControllView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts"],(function(t){"use strict";var e,o,r,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){n=t.ecs},function(t){i=t.CCComp}],execute:function(){var s;o._RF.push({},"540e6mbVBhEpajHiNiNYkbN","PlayerControllView",void 0);var l=r.ccclass;r.property,t("PlayerControllViewComp",l("PlayerControllViewComp")(s=n.register("PlayerControllView",!1)(s=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r.start=function(){},r.reset=function(){this.node.destroy()},o}(i))||s)||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessRecord.ts"],(function(e){"use strict";var s,t,n,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.ecs},function(e){r=e.EChessCamp}],execute:function(){var c;t._RF.push({},"e7ea0us3iFDebogKKrVsKGv","PlayerModel",void 0);e("PlayerModelComp",n.register("PlayerModel")(c=function(e){function t(){for(var s,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(s=e.call.apply(e,[this].concat(n))||this).camp=r.None,s.chess=[],s}s(t,e);var n=t.prototype;return n.initData=function(e){this.camp=e},n.addChess=function(e){this.chess.push(e)},n.clearAllChess=function(){for(var e=0;e<this.chess.length;e++)this.chess[e].destroy();this.chess.length=0},n.reset=function(){for(var e=0;e<this.chess.length;e++)this.chess[e].destroy();this.chess.length=0},t}(n.Comp))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3e09eJBwfZBsLPqFszZLvMS","RandomManager",void 0),t("RandomManager",function(){function t(){this.isClient=!0,this.isGlobal=!1,this.random=null}var e=t.prototype;return e.getRandom=function(){return this.isGlobal?Math.random():this.random()},e.setSeed=function(t){if(this.isClient)Math.seedrandom&&(this.isGlobal?new Math.seedrandom(t,{global:!0}):this.random=new Math.seedrandom(t));else{var n=require("seedrandom");this.isGlobal?new n(t,{global:!0}):this.random=new n(t)}},e.getRandomFloat=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1),this.getRandom()*(n-t)+t},e.getRandomInt=function(t,n,e){switch(void 0===e&&(e=2),t=Math.ceil(t),n=Math.floor(n),e){case 1:return Math.floor(this.getRandom()*(n-t))+t;case 2:return Math.floor(this.getRandom()*(n-t+1))+t;case 3:return Math.floor(this.getRandom()*(n-t-1))+t+1}return 0},e.getRandomByMinMaxList=function(t,n,e){for(var a=[],o=0;o<e;o++)a.push(this.getRandomInt(t,n));return a},e.getRandomByObjectList=function(t,n){for(var e=t.slice(),a=[],o=0;o<n;o++){var i=this.getRandomInt(0,t.length,n);a.push(e.splice(i,1)[0])}return a},e.getRandomBySumList=function(t,n){for(var e=n,a=0,o=[],i=0;i<t;i++)a=this.getRandomInt(0,e,3),i==t-1?a=e:e-=a,o.push(a);return o},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t,this._instance.random=Math.random),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);t("RegexUtil",function(){function t(){}return t.isDoubleWord=function(t){return/[^\x00-\xff]/.test(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){"use strict";var n,s,t,r,l,o;return{setters:[function(e){n=e.cclegacy,s=e.assetManager,t=e.error,r=e.js,l=e.Asset,o=e.resources}],execute:function(){n._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);e("ResLoader",function(){function e(){this.defaultBundleName="resources"}var n=e.prototype;return n.loadRemote=function(e){var n=null,t=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2]):t=arguments.length<=1?void 0:arguments[1],s.loadRemote(e,n,t)},n.loadBundle=function(e,n){return new Promise((function(r,l){s.loadBundle(e,{version:n},(function(e,n){if(e)return t(e);r(n)}))}))},n.load=function(e,n,s,t,r){var l=null;"string"==typeof n||n instanceof Array?(l=this.parseLoadResArgs(n,s,t,r)).bundle=e:(l=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,this.loadByArgs(l)},n.loadAsync=function(e,n,s){var r=this;return new Promise((function(l,o){r.load(e,n,s,(function(e,n){e&&t(e.message),l(n)}))}))},n.loadDir=function(e,n,s,t,r){var l=null;"string"==typeof n?(l=this.parseLoadResArgs(n,s,t,r)).bundle=e:(l=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,l.dir=l.paths,this.loadByArgs(l)},n.release=function(e,n){null==n&&(n=this.defaultBundleName);var t=s.getBundle(n);if(t){var r=t.get(e);r&&this.releasePrefabtDepsRecursively(r._uuid)}},n.releaseDir=function(e,n){var t=this;null==n&&(n=this.defaultBundleName);var r=s.getBundle(n);if(r){var l=r.getDirWithPath(e);l&&l.map((function(e){t.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&s.removeBundle(r)}},n.releasePrefabtDepsRecursively=function(e){var n=s.assets.get(e);s.releaseAsset(n)},n.get=function(e,n,t){return null==t&&(t=this.defaultBundleName),s.getBundle(t).get(e,n)},n.dump=function(){s.assets.forEach((function(e,n){console.log(s.assets.get(n))})),console.log("当前资源总数:"+s.assets.count)},n.parseLoadResArgs=function(e,n,s,t){var o=e,u=n,a=s,i=t;if(void 0===t){var d=r.isChildClassOf(n,l);s?(i=s,d&&(a=null)):void 0!==s||d||(i=n,a=null,u=null),void 0===s||d||(a=n,u=null)}return{paths:o,type:u,onProgress:a,onComplete:i}},n.loadByBundleAndArgs=function(e,n){n.dir?e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):(n.paths,e.load(n.paths,n.type,n.onProgress,n.onComplete))},n.loadByArgs=function(e){var n=this;if(e.bundle)if(s.bundles.has(e.bundle)){var t=s.bundles.get(e.bundle);this.loadByBundleAndArgs(t,e)}else s.loadBundle(e.bundle,(function(s,t){s||n.loadByBundleAndArgs(t,e)}));else this.loadByBundleAndArgs(o,e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ResultBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameUIConfig.ts","./ResultView.ts"],(function(t){"use strict";var e,n,u,o,s,i,r;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){u=t.cclegacy},function(t){o=t.oops},function(t){s=t.ecs},function(t){i=t.UIID},function(t){r=t.ResultViewComp}],execute:function(){var l;u._RF.push({},"2bb3dyfqCxFS5BKPYFRe6Nz","ResultBll",void 0);var c=t("ResultBllComp",s.register("ResultBll")(l=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.reset=function(){},n}(s.Comp))||l);t("ResultBllSystem",function(t){function u(){return t.apply(this,arguments)||this}e(u,t);var l=u.prototype;return l.filter=function(){return s.allOf(c)},l.entityEnter=function(t){this.loadResultView(t)},l.loadResultView=function(){var t=n((function*(t){o.gui.has(i.Result)&&o.gui.remove(i.Result);var e=yield o.gui.openAsync(i.Result);e&&t.add(e.getComponent(r)),t.remove(c)}));return function(e){return t.apply(this,arguments)}}(),u}(s.ComblockSystem));u._RF.pop()}}}));

System.register("chunks:///_virtual/ResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./GameUIConfig.ts","./Oops.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,o,i,r,s,l,u,a,c,p,f,d,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Button,u=e.Node,a=e.Sprite,c=e.SpriteFrame},function(e){p=e.ecs},function(e){f=e.CCComp},function(e){d=e.UIID},function(e){h=e.oops},function(e){y=e.smc}],execute:function(){var g,C,m,v,w,R,b,N,M,P;r._RF.push({},"9fe8bIwlSZIbKk2aofFeIMy","ResultView",void 0);var I=s.ccclass,V=s.property;e("ResultViewComp",(g=I("ResultViewComp"),C=p.register("ResultView",!1),m=V({type:l,tooltip:"返回"}),v=V({type:u,tooltip:"奖牌"}),w=V({type:a,tooltip:"玩家"}),g(R=C((N=t((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"BtnReturn",N,i(t)),o(t,"NodeMedals",M,i(t)),o(t,"NodePlayers",P,i(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.BtnReturn.node.on(u.EventType.TOUCH_END,this.onReturn,this)},r.start=function(){this.initView()},r.initView=function(){var e=[].concat(this.ent.allPlayer);e.sort((function(e,t){return t.wonChessCount-e.wonChessCount}));for(var t=0;t<this.NodeMedals.length;t++)this.NodeMedals[t].active=t<e.length;for(var n=0;n<this.NodePlayers.length;n++)if(this.NodePlayers[n].node.active=n<e.length,e[n]){var o=h.res.get(e[n].PlayerModel.chess[0].ChessModel.getChessIconRes(),c);this.NodePlayers[n].spriteFrame=o}},r.onReturn=function(){h.gui.open(d.Main),y.room.destroy()},r.reset=function(){h.gui.remove(d.Result)},t}(f)).prototype,"BtnReturn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(b.prototype,"NodeMedals",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(b.prototype,"NodePlayers",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=b))||R)||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/Room.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./SingletonModuleComp.ts","./GameManagerBll.ts","./ResultBll.ts","./SettingBll.ts","./RoomModel.ts","./SettingModel.ts","./GameLoadingView.ts","./GameView.ts","./ResultView.ts","./SettingView.ts"],(function(e){"use strict";var t,o,n,i,s,r,l,u,c,a,m,d,f,p,g;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy},function(e){i=e.ecs},function(e){s=e.smc},function(e){r=e.GameManagerBllComp,l=e.GameManagerBllSystem},function(e){u=e.ResultBllSystem},function(e){c=e.SettingBllSystem},function(e){a=e.RoomModelComp},function(e){m=e.SettingModelComp},function(e){d=e.GameLoadingViewComp},function(e){f=e.GameViewComp},function(e){p=e.ResultViewComp},function(e){g=e.SettingViewComp}],execute:function(){var h;n._RF.push({},"11b7a9YN1xE54sQpYYijCuZ","Room",void 0);e("Room",i.register("Room")(h=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var i=n.prototype;return i.init=function(){this.addComponents(a,m)},i.destroy=function(){this.remove(d),this.remove(f),this.remove(p),this.remove(g),this.remove(r),this.remove(a),s.room=null,e.prototype.destroy.call(this)},o(n,[{key:"chessboard",get:function(){return this.RoomModel.chessboard}},{key:"allPlayer",get:function(){return this.RoomModel.players}},{key:"owner",get:function(){return this.RoomModel.players[0]}},{key:"diceScore",get:function(){return this.GameManagerBll.actionScore}}]),n}(i.Entity))||h),e("EcsRoomSystem",function(e){function o(){var t;return(t=e.call(this)||this).add(new l),t.add(new c),t.add(new u),t}return t(o,e),o}(i.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/RoomModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessRecord.ts"],(function(e){"use strict";var r,t,s,o;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy},function(e){s=e.ecs},function(e){o=e.EChessCamp}],execute:function(){var n;t._RF.push({},"a03b13q/DNEgqk6RRlYV/qQ","RoomModel",void 0);e("RoomModelComp",s.register("RoomModel")(n=function(e){function t(){for(var r,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(r=e.call.apply(e,[this].concat(s))||this).chessboard=null,r.players=[],r}r(t,e);var s=t.prototype;return s.setChessboard=function(e){this.chessboard=e},s.addPlayer=function(e){this.players.push(e)},s.getChessCampIconRes=function(e){switch(e){case o.Blue:return"game/room/texture/big_blue/spriteFrame";case o.Green:return"game/room/texture/big_green/spriteFrame";case o.Red:return"game/room/texture/big_red/spriteFrame";case o.Yellow:return"game/room/texture/big_yellow/spriteFrame"}},s.reset=function(){for(var e=0;e<this.players.length;e++)this.players[e].destroy();this.chessboard.destroy(),this.chessboard=null,this.players.length=0},t}(s.Comp))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/Root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Language.ts","./BuildTimeConstants.ts","./GameConfig.ts","./GameQueryConfig.ts","./Oops.ts","./AudioManager.ts","./EventMessage.ts","./TimerManager.ts","./GameManager.ts","./GUI.ts","./LayerManager.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,u,c,g,l,f,m,p,d,E,v,h,y,R,G,M,b,C,N,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,u=e.JsonAsset,c=e.game,g=e.director,l=e.Game,f=e.log,m=e.sys,p=e.view,d=e.Component},function(e){E=e.LanguageManager},function(e){v=e.BuildTimeConstants},function(e){h=e.GameConfig},function(e){y=e.GameQueryConfig},function(e){R=e.version,G=e.oops},function(e){M=e.AudioManager},function(e){b=e.EventMessage},function(e){C=e.TimerManager},function(e){N=e.GameManager},function(e){w=e.GUI},function(e){T=e.LayerManager}],execute:function(){var _,A,I,D,L;a._RF.push({},"90b9cOmlmBCnpCpEpgvdrQr","Root",void 0);s.ccclass;var z=s.property,S=!1;e("Root",(_=z({type:r,tooltip:"游戏层"}),A=z({type:r,tooltip:"界面层"}),D=t((I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"game",D,o(t)),i(t,"gui",L,o(t)),t.persistRootNode=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;if(!S){S=!0,console.log("Oops Framework v"+R),this.enabled=!1;var t="config";G.res.load(t,u,(function(){var n=G.res.get(t);G.config.btc=new v,G.config.query=new y,G.config.game=new h(n),G.storage.init(G.config.game.localDataKey,G.config.game.localDataIv),c.frameRate=G.config.game.frameRate,e.enabled=!0,e.init(),e.run()}))}},a.update=function(e){G.ecs.execute(e)},a.initGui=function(){},a.initEcsSystem=function(){},a.run=function(){},a.init=function(){this.persistRootNode=new r("PersistRootNode"),g.addPersistRootNode(this.persistRootNode),G.audio=this.persistRootNode.addComponent(M),G.audio.load(),G.timer=this.persistRootNode.addComponent(C),G.language=new E,G.game=new N(this.game),G.gui=new T(this.gui),this.initGui(),this.initEcsSystem(),G.ecs.init(),c.on(l.EVENT_SHOW,(function(){f("Game.EVENT_SHOW"),G.timer.load(),G.audio.resumeAll(),g.resume(),c.resume(),G.message.dispatchEvent(b.GAME_ENTER)})),c.on(l.EVENT_HIDE,(function(){f("Game.EVENT_HIDE"),G.timer.save(),G.audio.pauseAll(),g.pause(),c.pause(),G.message.dispatchEvent(b.GAME_EXIT)}));var e=this.gui.addComponent(w);0==m.isMobile&&p.setResizeCallback((function(){e.resize(),G.message.dispatchEvent(b.GAME_RESIZE)}))},t}(d)).prototype,"game",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"gui",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I));a._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){"use strict";var o,n,r,e,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,e=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var e=new n;n.rotateAround(e,t.getRotation(),o.normalize(),r),t.setRotation(e)},t.rotateAroundTarget=function(t,o,e,i){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,e,i),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,e,i),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=i.z.multiplyScalar(o),c=i.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,e(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/SettingBll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameUIConfig.ts","./SettingView.ts"],(function(t){"use strict";var n,e,i,o,r,u,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){i=t.cclegacy},function(t){o=t.oops},function(t){r=t.ecs},function(t){u=t.UIID},function(t){s=t.SettingViewComp}],execute:function(){var c;i._RF.push({},"89d52+S585Oy5iMZChPlG+Z","SettingBll",void 0);var l=t("SettingBllComp",r.register("SettingBll")(c=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.reset=function(){},e}(r.Comp))||c);t("SettingBllSystem",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var c=i.prototype;return c.filter=function(){return r.allOf(l)},c.entityEnter=function(t){this.loadSettingView(t)},c.loadSettingView=function(){var t=e((function*(t){o.gui.has(u.Setting)&&o.gui.remove(u.Setting);var n=yield o.gui.openAsync(u.Setting);n&&t.add(n.getComponent(s)),t.SettingModel.initData(),t.get(s).initView(),t.remove(l)}));return function(n){return t.apply(this,arguments)}}(),i}(r.ComblockSystem));i._RF.pop()}}}));

System.register("chunks:///_virtual/SettingModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./EChessRecord.ts"],(function(e){"use strict";var t,s,n,a;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){n=e.ecs},function(e){a=e.EChessCamp}],execute:function(){var i;s._RF.push({},"57b9bNDjMhFzLBL988Zgama","SettingModel",void 0);e("SettingModelComp",n.register("SettingModel")(i=function(e){function s(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).camp=a.None,t.peopleCount=0,t.takeOffNum=[],t}t(s,e);var n=s.prototype;return n.initData=function(){this.setCamp(0),this.setPeopleCount(0),this.setTakeOffNum(0)},n.setCamp=function(e){switch(e){case 0:this.camp=a.Blue;break;case 1:this.camp=a.Green;break;case 2:this.camp=a.Red;break;case 3:this.camp=a.Yellow}},n.setPeopleCount=function(e){switch(e){case 0:this.peopleCount=2;break;case 1:this.peopleCount=3;break;case 2:this.peopleCount=4}},n.setTakeOffNum=function(e){switch(e){case 0:this.takeOffNum=[2,5,6];break;case 1:this.takeOffNum=[5,6];break;case 2:this.takeOffNum=[6]}},n.reset=function(){},s}(n.Comp))||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts","./Oops.ts","./GameUIConfig.ts","./GameManagerBll.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,u,s,c,p,f,g,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.ToggleContainer,u=t.Button,s=t.Node},function(t){c=t.ecs},function(t){p=t.CCComp},function(t){f=t.oops},function(t){g=t.UIID},function(t){C=t.GameManagerBllComp}],execute:function(){var m,h,d,y,b,S,k,v,I,w,T,M;r._RF.push({},"3e393X8zHFMJLuwqRW+G5bM","SettingView",void 0);var O=a.ccclass,P=a.property;t("SettingViewComp",(m=O("SettingViewComp"),h=c.register("SettingView",!1),d=P({type:l,tooltip:"选择角色集合"}),y=P({type:l,tooltip:"选择人数集合"}),b=P({type:l,tooltip:"选择起飞号码集合"}),S=P({type:u,tooltip:"开始游戏"}),m(k=h((I=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"CtnCamp",I,o(e)),i(e,"CtnPeople",w,o(e)),i(e,"CtnTakeOff",T,o(e)),i(e,"BtnStart",M,o(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.BtnStart.node.on(s.EventType.TOUCH_END,this.startGame,this)},r.initView=function(){this.CtnCamp.toggleItems[0].isChecked=!0,this.CtnPeople.toggleItems[0].isChecked=!0,this.CtnTakeOff.toggleItems[0].isChecked=!0},r.checkCamp=function(t){var e=this.CtnCamp.toggleItems.findIndex((function(e,n){return e==t}));this.ent.SettingModel.setCamp(e)},r.checkPeopleCount=function(t){var e=this.CtnPeople.toggleItems.findIndex((function(e,n){return e==t}));this.ent.SettingModel.setPeopleCount(e)},r.checkTakeOffNum=function(t){var e=this.CtnTakeOff.toggleItems.findIndex((function(e,n){return e==t}));this.ent.SettingModel.setTakeOffNum(e)},r.startGame=function(){this.ent.add(C),this.ent.remove(e)},r.reset=function(){f.gui.remove(g.Setting)},e}(p)).prototype,"CtnCamp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"CtnPeople",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"CtnTakeOff",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"BtnStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k)||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonModuleComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(n){"use strict";var e,t,o;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){o=n.ecs}],execute:function(){var r;t._RF.push({},"17a56vOVQFMMarANxr6JvP7","SingletonModuleComp",void 0);var i=n("SingletonModuleComp",o.register("SingletonModule")(r=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this).initialize=null,e.room=null,e}return e(t,n),t.prototype.reset=function(){},t}(o.Comp))||r);n("smc",o.getSingleton(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["cc","./env","./EncryptUtil.ts"],(function(e){"use strict";var t,n,r,i;return{setters:[function(e){t=e.cclegacy,n=e.sys},function(e){r=e.PREVIEW},function(e){i=e.EncryptUtil}],execute:function(){t._RF.push({},"ed226gLF85Oyr+WhA9TJZLX","StorageManager",void 0);e("StorageManager",function(){function e(){this._key=null,this._iv=null,this._id=""}var t=e.prototype;return t.init=function(e,t){i.initCrypto(e,t),this._key=i.md5(e),this._iv=i.md5(t)},t.setUser=function(e){this._id=e},t.set=function(e,t){var r=e+"_"+this._id;if(null!=e){if(r=i.md5(r),null==t)return console.warn("存储的值为空，则直接移除该存储"),void this.remove(e);if("function"!=typeof t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(e){return void console.error("解析失败，str = "+t)}else"number"==typeof t&&(t+="");null!=this._key&&null!=this._iv&&(t=i.aesEncrypt(""+t,this._key,this._iv)),n.localStorage.setItem(r,t)}else console.error("储存的值不能为方法")}else console.error("存储的key不能为空")},t.get=function(e,t){if(void 0===t&&(t=""),null==e)return console.error("存储的key不能为空"),null;e=e+"_"+this._id,e=i.md5(e);var o=n.localStorage.getItem(e);return null==o||""===o||r||null==this._key||null==this._iv||(o=i.aesDecrypt(o,this._key,this._iv)),null===o?t:o},t.getNumber=function(e,t){void 0===t&&(t=0);var n=this.get(e);return"0"==n?Number(n):Number(n)||t},t.getBoolean=function(e){var t=this.get(e);return Boolean(t)||!1},t.getJson=function(e,t){var n=this.get(e);return n&&JSON.parse(n)||t},t.remove=function(e){if(null!=e){var t=e+"_"+this._id;t=i.md5(t),n.localStorage.removeItem(t)}else console.error("存储的key不能为空")},t.clear=function(){n.localStorage.clear()},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"85fe8Gc6h5Ava+JsdbBs8cR","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",c=0,o="";if(n&&(r=n[0]),i&&(c=parseInt(i[0])),"number"==typeof t)switch(r){case"int":o=this.int(t);break;case"fix":o=this.fix(t,c);break;case"kmbt":o=this.KMBT(t);break;case"per":o=this.per(t,c);break;case"sep":o=this.sep(t)}else{switch(r){case"limit":o=this.limit(t,c)}o=t}return o},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){void 0===i&&(i=2);var r,c=e,o=n,s="";for(r=0;r<c.length;r++){if(t<c[r]){s=r>0?(t/c[r-1]).toFixed(i):t.toFixed(0);break}}return s+o[r]},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);t("StringUtil",function(){function t(){}return t.guid=function(){for(var t="",r=1;r<=32;r++){t+=Math.floor(16*Math.random()).toString(16),8!=r&&12!=r&&16!=r&&20!=r||(t+="-")}return t},t.numberTotPermil=function(t){return t.toLocaleString()},t.numberToThousand=function(t,r){void 0===r&&(r=2);var n=1e3;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","K","M","G"][e]},t.numberToTenThousand=function(t,r){void 0===r&&(r=2);var n=1e4;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","万","亿","万亿"][e]},t.format=function(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var e in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return r},t.stringToArray1=function(t){return""==t?[]:t.split(",")},t.stringToArray2=function(t){return""==t?[]:t.split("|")},t.stringToArray3=function(t){return""==t?[]:t.split(":")},t.stringToArray4=function(t){return""==t?[]:t.split(";")},t.sub=function(t,r,n){void 0===n&&(n=!1);var e=/[^\x00-\xff]/g;if(t.replace(e,"mm").length<=r)return t;for(var o=Math.floor(r/2);o<t.length;o++)if(t.substr(0,o).replace(e,"mm").length>=r)return n?t.substr(0,o)+"...":t.substr(0,o);return t},t.stringLen=function(t){for(var r=0,n=t.length,e=-1,o=0;o<n;o++)r+=(e=t.charCodeAt(o))>=0&&e<=128?1:2;return r},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/TablePromptWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var i,e,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){e._RF.push({},"1e3d7uann5MRokAL2wULm9y","TablePromptWindow",void 0),t("TablePromptWindow",function(){function t(){this.data=void 0,this.id=0,this.id1=0,this.id2=0}return t.prototype.init=function(i,e,r){var a=n.get(t.TableName);this.data=a[i][e][r],this.id=i,this.id1=e,this.id2=r},i(t,[{key:"title",get:function(){return this.data.title}},{key:"describe",get:function(){return this.data.describe}},{key:"array",get:function(){return this.data.array}},{key:"hp",get:function(){return this.data.hp}}]),t}()).TableName="PromptWindow",e._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6021fct1uhJsImEuhdFWC0f","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./Timer.ts"],(function(e){"use strict";var t,i,n,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Component},function(e){r=e.StringUtil},function(e){s=e.Timer}],execute:function(){i._RF.push({},"73600VLsIBLOKhOhd7td4P8","TimerManager",void 0);e("TimerManager",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).times={},t.initTime=(new Date).getTime(),t.serverTime=0,t}t(i,e);var n=i.prototype;return n.update=function(e){for(var t in this.times){var i=this.times[t];i.timer.update(e)&&i.object[i.field]>0&&(i.object[i.field]--,0==i.object[i.field]?this.onTimerComplete(i):i.onSecond&&i.onSecond.call(i.object))}},n.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},n.register=function(e,t,i,n){var o=new s;o.step=1;var c={};return c.id=r.guid(),c.timer=o,c.object=e,c.field=t,c.onSecond=i,c.onComplete=n,this.times[c.id]=c,c.id},n.unRegister=function(e){this.times[e]&&delete this.times[e]},n.setServerTime=function(e){return e&&(this.serverTime=e),this.serverTime},n.getServerTime=function(){return this.serverTime+this.getTime()},n.format=function(e,t){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},n.getTime=function(){return this.getLocalTime()-this.initTime},n.getLocalTime=function(){return Date.now()},n.save=function(){for(var e in this.times)this.times[e].startTime=this.getTime()},n.load=function(){for(var e in this.times){var t=Math.floor((this.getTime()-(this.times[e].startTime||this.getTime()))/1e3),i=this.times[e];i.object[i.field]=i.object[i.field]-t,i.object[i.field]<0&&(i.object[i.field]=0,this.onTimerComplete(i)),this.times[e].startTime=null}},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIMap.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"1bd03ggtItIIajoqd0I4VGL","UIMap",void 0);var e=function(){this.parent=null,this.child=[]};n("UIMap",function(){function n(){this.nodes=new Map}var t=n.prototype;return t.init=function(n,t){var i=this;for(var a in this.manager=n,t){var r=t[a],s=new e;s.id=parseInt(a),s.pid=r.parent,s.name=r.name,s.panel=r.panel,this.nodes.set(s.id,s)}this.nodes.forEach((function(n,t){n.parent=i.nodes.get(n.pid),n.parent&&n.parent.child.push(n)}))},t.pathFinding=function(n,t){var e=this,i=this.nodes.get(n),a=this.nodes.get(t),r=this.findUp(i),s=this.findUp(a);return r.forEach((function(n){e.manager.remove(n.id,!0)})),s.forEach((function(n){e.manager.open(n.id)})),{paths_close:r,paths_open:s}},t.findUp=function(n){for(var t=[],e=n;null!=e.parent;)t.push(e),e=e.parent;return t},t.release=function(){this.nodes.clear()},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(n){"use strict";var e,r,t,u,a;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n.Vec3,u=n.Mat4},function(n){a=n.MathUtil}],execute:function(){r._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.progress=function(n,e,r){var u=new t;return u.x=a.progress(n.x,e.x,r),u.y=a.progress(n.y,e.y,r),u.z=a.progress(n.z,e.z,r),u},n.add=function(n,e){var r=new t;return t.add(r,n,e),r},n.sub=function(n,e){var r=new t;return t.subtract(r,n,e),r},n.mul=function(n,e){var r=new t;return t.multiplyScalar(r,n,e),r},n.div=function(n,e){var r=new t;return r.x=n.x/e,r.y=n.y/e,r.z=n.z/e,r},n.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new t(n.x,n.y,n.z).normalize()},n.direction=function(n,e){var r=new t;return t.subtract(r,e,n),r.normalize()},n.distance=function(n,e){return t.distance(n,e)},n.lerp=function(n,e,r){return this.bezierOne(r,n,e)},n.slerp=function(n,e,r){if(r<=0)return n;if(r>=1)return e;var u=this.rotateTo(n,e,t.angle(n,e)/Math.PI*180*r),a=e.length()*r+n.length()*(1-r);return u.normalize().multiplyScalar(a)},n.rotateTo=function(n,e,r){if(0==t.angle(n,e))return e;var a=new t;t.cross(a,n,e),a.normalize();var i=r*Math.PI/180,l=new u;return l.rotate(i,a),new t(n.x*l.m00+n.y*l.m04+n.z*l.m08,n.x*l.m01+n.y*l.m05+n.z*l.m09,n.x*l.m02+n.y*l.m06+n.z*l.m10)},n.bezierOne=function(n,e,r){n>1?n=1:n<0&&(n=0);var t=e.clone(),u=r.clone();return t.multiplyScalar(1-n).add(u.multiplyScalar(n))},n.bezierTwo=function(n,e,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=n*n,l=e.clone(),c=new t,o=r.clone(),y=u.clone();return c.add(l.multiplyScalar(a*a)),c.add(o.multiplyScalar(2*a*n)),c.add(y.multiplyScalar(i)),c},n.bezierThree=function(n,e,r,t,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=a*a,l=i*a,c=n*n,o=c*n,y=e.clone(),f=e.clone(),s=r.clone(),d=t.clone(),m=u.clone();return f.add(y.multiplyScalar(l)),f.add(s.multiplyScalar(3*i*n)),f.add(d.multiplyScalar(3*a*c)),f.add(m.multiplyScalar(o)),f},n.dot=function(n,e){var r=n,t=e;return r.x*t.x+r.y*t.y+r.z*t.z},n.cross=function(n,e){var r=new t(1,0,0),u=new t(0,1,0),a=new t(0,0,1),i=new t(n.x,n.y,n.z),l=new t(e.x,e.y,e.z),c=r.multiplyScalar(i.y*l.z-l.y*i.z),o=u.multiplyScalar(l.x*i.z-i.x*l.z),y=a.multiplyScalar(i.x*l.y-l.x*i.y);return c.add(o).add(y)},n.angle=function(n,e){var r=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)},n.dirAngle=function(e,r){var t=n.cross(e,r);return n.angle(e,r)*Math.sign(n.dot(t.normalize(),n.cross(r.normalize(),e.normalize())))},e(n,null,[{key:"x",get:function(){return new t(1,0,0)}},{key:"y",get:function(){return new t(0,1,0)}},{key:"z",get:function(){return new t(0,0,1)}},{key:"left",get:function(){return new t(-1,0,0)}},{key:"right",get:function(){return new t(1,0,0)}},{key:"up",get:function(){return new t(0,1,0)}},{key:"down",get:function(){return new t(0,-1,0)}},{key:"forward",get:function(){return new t(0,0,1)}},{key:"back",get:function(){return new t(0,0,-1)}},{key:"one",get:function(){return new t(1,1,1)}},{key:"zero",get:function(){return new t(0,0,0)}}]),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.director},function(t){i=t.JsonOb}],execute:function(){e._RF.push({},"54f75k4X+RP0qaXOzrfZysL","ViewModel",void 0);var o="VC:";function r(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1){console.error("["+a+"] not find in "+i+"."+e);break}r==o.length-1?t[a]=n:t=t[a]}}function a(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1)return console.error("["+a+"] not find in "+i+"."+e),n;t=t[a]}return null==t&&(t=n),t}var s=function(){function t(t,e){this.$data=void 0,this._tag=null,this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=e}var e=t.prototype;return e._callback=function(t,e,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(n.emit(r,t,e,[this._tag].concat(i)),this.emitToRootPath&&n.emit(o+this._tag,t,e,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},e.setValue=function(t,e){r(this.$data,t,e,this._tag)},e.getValue=function(t,e){return a(this.$data,t,e,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=new Map,this.setObjValue=r,this.getObjValue=a}var e=t.prototype;return e.add=function(t,e,n){void 0===e&&(e="global"),void 0===n&&(n=!1);var i=new s(t,e),o=this._mvs.get(e);e.includes(".")?console.error("cant write . in tag:",e):o?console.error("already set VM tag:"+e):(i.emitToRootPath=n,this._mvs.set(e,i))},e.remove=function(t){this._mvs.delete(t)},e.get=function(t){return this._mvs.get(t)},e.addValue=function(t,e){var n=(t=t.trim()).split(".");n.length<2&&console.error("Cant find path:"+t);var i=this.get(n[0]);if(i){var o=n.slice(1).join(".");i.setValue(o,i.getValue(o)+e)}else console.error("Cant Set VM:"+n[0])},e.getValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(n[0]);if(i)return i.getValue(n.slice(1).join("."),e);console.error("Cant Get VM:"+n[0])}},e.setValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(n[0]);i?i.setValue(n.slice(1).join("."),e):console.error("Cant Set VM:"+n[0])}},e.bindPath=function(t,e,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?n.on(o+t,e,i,r):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本"):console.error(i.node.name,"节点绑定的路径为空")},e.unbindPath=function(t,e,i){"*"!==(t=t.trim()).split(".")[0]?n.off(o+t,e,i):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本")},e.inactive=function(){this._mvs.forEach((function(t){t.active=!1}))},e.active=function(){this._mvs.forEach((function(t){t.active=!1}))},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var n,t,o,r,a,i,c,f,u,l;return{setters:[function(e){n=e.asyncToGenerator},function(e){t=e.cclegacy,o=e.UITransform,r=e.v3,a=e.Size,i=e.Prefab,c=e.instantiate,f=e.Animation,u=e.AnimationClip},function(e){l=e.oops}],execute:function(){t._RF.push({},"f607cCjAEZHVKVZ/FyRs5bA","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.nodeTreeInfoLite=function(n,t){for(var o=t||new Map,r=n.children,a=0;a<r.length;a++){var i=r[a];i.name.indexOf(" ")<0&&o.set(i.name,i),e.nodeTreeInfoLite(i,o)}return o},e.findNodes=function(n,t,o){for(var r=o||[],a=t.children,i=0;i<a.length;i++){var c=a[i].name;n.test(c)&&r.push(a[i]),e.findNodes(n,a[i],r)}return r},e.calculateASpaceToBSpacePos=function(e,n,t){var r=e.getComponent(o).convertToWorldSpaceAR(t);return n.getComponent(o).convertToNodeSpaceAR(r)},e.calculateScreenPosToSpacePos=function(e,n){var t=e.getUILocation(),a=r(t.x,t.y);return n.getComponent(o).convertToNodeSpaceAR(a)},e.uniformScale=function(e,n,t,o){var r,i=t/e,c=o/n;return r=i<c?i:c,new a(Math.floor(e*r),Math.floor(n*r))},e.createPrefabNode=function(e){var n=l.res.get(e,i);return c(n)},e.createPrefabNodeAsync=function(e){var t=this;return new Promise(n((function*(n,o){l.res.load(e,i,(function(o,r){if(o)console.error("名为【"+e+"】的资源加载失败");else{var a=t.createPrefabNode(e);n(a)}}))})))},e.loadPrefabNode=function(e,n){var t=this;l.res.load(e,i,(function(o,r){if(o)console.error("名为【"+e+"】的资源加载失败");else{var a=t.createPrefabNode(e);n(a)}}))},e.addNodeAnimation=function(e,n,t,o){if(void 0===t&&(t=!0),void 0===o&&(o=!1),n&&n.isValid){var r=n.getComponent(f);null==r&&(r=n.addComponent(f));var a=l.res.get(e,u);if(a&&!(t&&r.getState(a.name)&&r.getState(a.name).isPlaying)){if(o)return r.defaultClip=a,void r.play();r.once(f.EventType.FINISHED,(function(){r.defaultClip&&r.play()}),this),r.getState(a.name)||r.createState(a,a.name),r.play(a.name)}}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./VMEnv.ts"],(function(t){"use strict";var n,e,a,i,h,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.log,h=t.Component},function(t){o=t.VM},function(t){r=t.VMEnv}],execute:function(){var s;e._RF.push({},"2f6f36IvUdPO7xynnVTPgzb","VMBase",void 0);var c=a.ccclass,l=a.help;t("VMBase",c(s=l("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMBase.md")(s=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).VM=o,n.watchPath="",n.templateMode=!1,n.watchPathArr=[],n.templateValueArr=[],n}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;if(!r.editor){for(var n=this.watchPath.split("."),e=1;e<n.length;e++){if("*"==n[e]){var a=this.node.parent.children.findIndex((function(n){return n===t.node}));a<=0&&(a=0),n[e]=a.toString();break}}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var o=0;o<h.length;o++){for(var s=h[o].split("."),c=1;c<s.length;c++){if("*"==s[c]){var l=this.node.parent.children.findIndex((function(n){return n===t.node}));l<=0&&(l=0),s[c]=l.toString();break}}this.watchPathArr[o]=s.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&i("可能未设置路径的节点:",this.node.parent.name+"."+this.node.name)}},a.onEnable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit())},a.onDisable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this))},a.setMultPathEvent=function(t){if(void 0===t&&(t=!0),!r.editor)for(var n=this.watchPathArr,e=0;e<n.length;e++){var a=n[e];t?this.VM.bindPath(a,this.onValueChanged,this):this.VM.unbindPath(a,this.onValueChanged,this)}},a.onValueInit=function(){},a.onValueChanged=function(t,n,e){},e}(h))||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMCompsEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){"use strict";var t,r,o,i,n,a,c,l,s,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.CCString,s=e.Enum,p=e.Node,u=e.log,h=e.Component},function(e){f=e.VMEnv}],execute:function(){var _,g,d,E,y,b,T,P,C,N,O,m,v,A,w,M,L,H,k,D,R,V,j;a._RF.push({},"2359eFXKF5HFYS74K7Y17/U","VMCompsEdit",void 0);var z,S=c.ccclass,B=c.property,F=c.executeInEditMode,W=c.menu,x=c.help;!function(e){e[e.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",e[e.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",e[e.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",e[e.DELETE_COMPONENT=3]="DELETE_COMPONENT"}(z||(z={}));e("default",(_=W("ModelViewer/Edit-Comps (快速组件操作)"),g=x("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMCompsEdit.md"),d=B({type:[l]}),E=B({type:s(z)}),y=B({tooltip:"勾选后,会自动查找 find list 中填写的组件",visible:function(){return this.actionType===z.SEARCH_COMPONENT}}),b=B({tooltip:"勾选后,会批量激活 find list 中填写的组件",visible:function(){return this.actionType===z.ENABLE_COMPONENT}}),T=B({tooltip:"勾选后,会批量关闭 find list 中填写的组件",visible:function(){return this.actionType===z.ENABLE_COMPONENT}}),P=B({tooltip:"允许删除节点的组件,确定需要移除请勾选,防止误操作",visible:function(){return this.actionType===z.DELETE_COMPONENT}}),C=B({tooltip:"勾选后,会批量删除 find list 中填写的组件",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===z.DELETE_COMPONENT}}),N=B({tooltip:"勾选后,会批量替换掉指定的路径",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),O=B({tooltip:"匹配的路径,匹配规则: 搜索开头为 game的路径",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),m=B({tooltip:"替换的路径,将匹配到的路径替换",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),v=B({tooltip:"是否搜集绑定VM组件的节点?",visible:function(){return this.actionType===z.SEARCH_COMPONENT}}),A=B({type:[p],readonly:!0,tooltip:"收集到绑定了VM组件相关的节点，可以自己跳转过去",visible:function(){return this.canCollectNodes&&this.actionType===z.SEARCH_COMPONENT}}),S(w=F(w=_(w=g((L=t((M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"findList",L,i(t)),o(t,"actionType",H,i(t)),o(t,"allowDelete",k,i(t)),o(t,"targetPath",D,i(t)),o(t,"replacePath",R,i(t)),o(t,"canCollectNodes",V,i(t)),o(t,"collectNodes",j,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(!f.editor){var e=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",e)}},a.setComponents=function(e){var t=this,r=this.findList,o="搜索到当前节点下面的组件";switch(e){case 0:o="搜索到当前节点下面的组件";break;case 1:o="激活以下节点的组件";break;case 2:o="关闭以下节点的组件";break;case 3:o="删除以下节点的组件";break;case 4:o="替换以下节点的路径"}u(o),u("______________________"),r.forEach((function(r){t.searchComponent(r,e)})),u("______________________")},a.searchComponent=function(e,t){var r=this;void 0===t&&(t=0),this.collectNodes=[];var o=this.node.getComponentsInChildren(e);null==o||o.length<1||(u("["+e+"]:"),o.forEach((function(e){var o="";switch(t<=3&&(o=!0===e.templateMode?e.watchPathArr?":[Path:"+e.watchPathArr.join("|")+"]":"":e.watchPath?":[Path:"+e.watchPath+"]":""),u(r.getNodePath(e.node)+o),t){case 0:r.canCollectNodes&&-1===r.collectNodes.indexOf(e.node)&&r.collectNodes.push(e.node);break;case 1:e.enabled=!0;break;case 2:e.enabled=!1;break;case 3:e.node.removeComponent(e);break;case 4:var i=r.targetPath,n=r.replacePath;if(!0===e.templateMode)for(var a=0;a<e.watchPathArr.length;a++){var c=e.watchPathArr[a];e.watchPathArr[a]=r.replaceNodePath(c,i,n)}else e.watchPath=r.replaceNodePath(e.watchPath,i,n)}})))},a.replaceNodePath=function(e,t,r){for(var o=e.split("."),i=t.split("."),n=r.split("."),a=!0,c=0;c<i.length;c++)if(o[c]!==i[c]){a=!1;break}if(!0===a){for(var l=0;l<n.length;l++)o[l]=n[l];u(" 路径更新:",e,">>>",o.join("."))}return o.join(".")},a.getNodePath=function(e){for(var t=e,r=[];t;){var o=t.getParent();if(!o)break;r.push(t.name),t=o}return r.reverse().join("/")},n(t,[{key:"findTrigger",get:function(){return!1},set:function(e){this.setComponents(0)}},{key:"enableTrigger",get:function(){return!1},set:function(e){this.setComponents(1)}},{key:"disableTrigger",get:function(){return!1},set:function(e){this.setComponents(2)}},{key:"deleteTrigger",get:function(){return!1},set:function(e){this.setComponents(3)}},{key:"replaceTrigger",get:function(){return!1},set:function(e){this.setComponents(4)}}]),t}(h)).prototype,"findList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["VMBase","VMParent"]}}),H=t(M.prototype,"actionType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.SEARCH_COMPONENT}}),t(M.prototype,"findTrigger",[y],Object.getOwnPropertyDescriptor(M.prototype,"findTrigger"),M.prototype),t(M.prototype,"enableTrigger",[b],Object.getOwnPropertyDescriptor(M.prototype,"enableTrigger"),M.prototype),t(M.prototype,"disableTrigger",[T],Object.getOwnPropertyDescriptor(M.prototype,"disableTrigger"),M.prototype),k=t(M.prototype,"allowDelete",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"deleteTrigger",[C],Object.getOwnPropertyDescriptor(M.prototype,"deleteTrigger"),M.prototype),t(M.prototype,"replaceTrigger",[N],Object.getOwnPropertyDescriptor(M.prototype,"replaceTrigger"),M.prototype),D=t(M.prototype,"targetPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"game"}}),R=t(M.prototype,"replacePath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"*"}}),V=t(M.prototype,"canCollectNodes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(M.prototype,"collectNodes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M))||w)||w)||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./VMEnv.ts"],(function(t){"use strict";var e,o,n,r,i,c,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Toggle},function(t){s=t.VMBase},function(t){l=t.VMEnv}],execute:function(){var h,p,u,m,f,d,g,C,V,b,_,y,w,v;i._RF.push({},"ce662fwsSVPLKpmHx+KocFu","VMCustom",void 0);var P=c.ccclass,M=c.property,k=c.executeInEditMode,x=c.menu,B=c.help,R=[["BhvFrameIndex","index",!1],["BhvGroupToggle","index",!1],["BhvRollNumber","targetValue",!1],["cc.Label","string",!1],["cc.RichText","string",!1],["cc.EditBox","string",!0],["cc.Slider","progress",!0],["cc.ProgressBar","progress",!1],["cc.Toggle","isChecked",!0]];t("VMCustom",(h=x("ModelViewer/VM-Custom (自定义VM)"),p=B("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMCustom.md"),u=M({tooltip:"激活controller,以开启双向绑定，否则只能接收消息"}),m=M({tooltip:"监视对象路径"}),f=M({tooltip:"绑定组件的名字"}),d=M({tooltip:"组件上需要监听的属性"}),g=M({tooltip:"刷新间隔频率(只影响脏检查的频率)",step:.01,range:[0,1],visible:function(){return!0===this.controller}}),P(C=k(C=h(C=p((b=e((V=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"controller",b,r(e)),n(e,"watchPath",_,r(e)),n(e,"componentName",y,r(e)),n(e,"componentProperty",w,r(e)),n(e,"refreshRate",v,r(e)),e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}o(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),l.editor||(this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState())},i.onRestore=function(){this.checkEditorComponent()},i.start=function(){this.onValueInit()},i.checkEditorComponent=function(){if(!l.editor)for(var t=R,e=0;e<t.length;e++){var o=t[e];if(this.node.getComponent(o[0])){""==this.componentName&&(this.componentName=o[0]),""==this.componentProperty&&(this.componentProperty=o[1]),null!==o[2]&&(this.controller=o[2]);break}}},i.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=!1?this._canWatchComponent=!0:console.error("需要监听的组件的属性不存在"):console.error("未设置需要监听的组件 的属性"):console.error("未设置需要监听的组件")},i.getComponentValue=function(){return this._watchComponent[this.componentProperty]},i.setComponentValue=function(t){"cc.Toggle"==this.componentName?this.node.getComponent(a).isChecked=t:this._watchComponent[this.componentProperty]=t},i.onValueInit=function(){l.editor||this.setComponentValue(this.VM.getValue(this.watchPath))},i.onValueController=function(t,e){this.VM.setValue(this.watchPath,t)},i.onValueChanged=function(t,e,o){this.setComponentValue(t)},i.update=function(t){if(!l.editor&&this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},e}(s)).prototype,"controller",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(V.prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=e(V.prototype,"componentName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(V.prototype,"componentProperty",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(V.prototype,"refreshRate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),C=V))||C)||C)||C)||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/VMEnv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(n){"use strict";var t,e,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){u=n.EDITOR}],execute:function(){e._RF.push({},"fdf72Q91PdCXpPQ+62s1ufi","VMEnv",void 0);n("VMEnv",function(){function n(){}return t(n,null,[{key:"editor",get:function(){return u}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/VMEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(e){"use strict";var t,r,n,i,a,o,c,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString,l=e.Enum,u=e.EventHandler},function(e){s=e.VMBase}],execute:function(){var f,p,h,b,d,g,m,v,y,M,w,E,V,k,z,P,A,C;a._RF.push({},"a9ce7kf8XZJeLPlT2iWn2zD","VMEvent",void 0);var D,_=o.ccclass,B=o.property,I=o.executeInEditMode,L=o.menu,O=o.help;!function(e){e[e.none=0]="none",e[e["=="]=1]="==",e[e["!="]=2]="!=",e[e[">"]=3]=">",e[e[">="]=4]=">=",e[e["<"]=5]="<",e[e["<="]=6]="<="}(D||(D={}));e("default",(f=L("ModelViewer/VM-EventCall(调用函数)"),p=O("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMEvent.md"),h=B({tooltip:"使用模板模式，可以使用多路径监听"}),b=B({tooltip:"监听获取值的路径",visible:function(){return!1===this.templateMode}}),d=B({tooltip:"触发一次后会自动关闭该事件"}),g=B({tooltip:"监听获取值的多条路径,这些值的改变都会通过这个函数回调,请使用 pathArr 区分获取的值 ",type:[c],visible:function(){return!0===this.templateMode}}),m=B({tooltip:"过滤模式，会根据条件过滤掉时间的触发",type:l(D)}),v=B({visible:function(){return this.filterMode!==D.none}}),y=B([u]),_(M=I(M=f(M=p((E=t((w=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"templateMode",E,i(t)),n(t,"watchPath",V,i(t)),n(t,"triggerOnce",k,i(t)),n(t,"watchPathArr",z,i(t)),n(t,"filterMode",P,i(t)),n(t,"compareValue",A,i(t)),n(t,"changeEvents",C,i(t)),t}r(t,e);var a=t.prototype;return a.onValueInit=function(){},a.onValueChanged=function(e,t,r){this.conditionCheck(e,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach((function(n){n.emit([e,t,r])})),!0===this.triggerOnce&&(this.enabled=!1))},a.conditionCheck=function(e,t){var r=D;switch(this.filterMode){case r.none:return!0;case r["=="]:if(e==t)return!0;break;case r["!="]:if(e!=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r[">"]:if(e>t)return!0;break;case r[">="]:if(e>=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r["<="]:if(e<=t)return!0}return!1},t}(s)).prototype,"templateMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(w.prototype,"watchPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=t(w.prototype,"triggerOnce",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(w.prototype,"watchPathArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(w.prototype,"filterMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.none}}),A=t(w.prototype,"compareValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(w.prototype,"changeEvents",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=w))||M)||M)||M)||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMBase.ts","./VMEnv.ts"],(function(t){"use strict";var e,r,i,a,n,l,o,s,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,s=t.error},function(t){c=t.StringFormatFunction},function(t){u=t.VMBase},function(t){h=t.VMEnv}],execute:function(){var p,f,m,g,b,d,V,v,M,y,L,T;n._RF.push({},"545c05XsG9GDJispEGWKvYv","VMLabel",void 0);var w=l.ccclass,x=l.property,A=l.menu,F=l.executeInEditMode,P=l.help,R="cc.Label";t("default",(p=A("ModelViewer/VM-Label(文本VM)"),f=P("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMLabel.md"),m=x({tooltip:"是否启用模板代码,只能在运行时之前设置,\n将会动态解析模板语法 {{0}},并且自动设置监听的路径"}),g=x({visible:function(){return!1===this.templateMode}}),b=x({readonly:!0}),d=x({type:[o],visible:function(){return!0===this.templateMode}}),w(V=F(V=p(V=f((M=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"templateMode",M,a(e)),i(e,"watchPath",y,a(e)),i(e,"labelType",L,a(e)),i(e,"watchPathArr",T,a(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),h.editor||this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){h.editor||this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var i=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=i}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,i=0;i<e.length;i++){var a,n=e[i],l=n.match(t),o=parseInt(l[1]||"0")||0,s=this.templateFormatArr[i];a=this.templateValueArr[o],r=r.replace(n,this.getValueFromFormat(a,s))}return r},n.getValueFromFormat=function(t,e){return c.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var i=r.join("."),a=this.watchPathArr.findIndex((function(t){return t===i}));a>=0&&(this.templateValueArr[a]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},n.getLabelValue=function(){return this.getComponent(this.labelType).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return s("没有挂载任何label组件"),!1},e}(u)).prototype,"templateMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=e(v.prototype,"watchPath",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=e(v.prototype,"labelType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R}}),T=e(v.prototype,"watchPathArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=v))||V)||V)||V)||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMModify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(t){"use strict";var e,a,i,n,u,r,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){u=t.cclegacy,r=t._decorator,l=t.Enum},function(t){o=t.VMBase}],execute:function(){var s,h,c,v,M,p,f,d,m,V,b,w,y,g;u._RF.push({},"7d2a4voaOJJGJZRWFPG6Bk7","VMModify",void 0);var P,I=r.ccclass,A=r.property,C=r.menu,N=r.help;!function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"}(P||(P={}));t("default",(s=C("ModelViewer/VM-Modify(修改Model)"),h=N("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMModify.md"),c=A({tooltip:"监视对象路径"}),v=A({tooltip:"是不启用取值范围限制"}),M=A({type:l(P),visible:function(){return!0===this.valueClamp}}),p=A({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==P.MAX}}),f=A({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==P.MIN}}),I(d=s(d=h((V=e((m=function(t){function e(){for(var e,a=arguments.length,u=new Array(a),r=0;r<a;r++)u[r]=arguments[r];return e=t.call.apply(t,[this].concat(u))||this,i(e,"watchPath",V,n(e)),i(e,"valueClamp",b,n(e)),i(e,"valueClampMode",w,n(e)),i(e,"valueMin",y,n(e)),i(e,"valueMax",g,n(e)),e}a(e,t);var u=e.prototype;return u.clampValue=function(t){var e=this.valueMin,a=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case P.MIN_MAX:t>a&&(t=a),t<e&&(t=e);break;case P.MIN:t<e&&(t=e);break;case P.MAX:t>a&&(t=a)}return t},u.vAddInt=function(t,e){this.vAdd(t,e,!0)},u.vSubInt=function(t,e){this.vSub(t,e,!0)},u.vMulInt=function(t,e){this.vMul(t,e,!0)},u.vDivInt=function(t,e){this.vDiv(t,e,!0)},u.vAdd=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)+i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vSub=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)-i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vMul=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)*i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vDiv=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)/i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vString=function(t,e){var a=e;this.VM.setValue(this.watchPath,a)},u.vNumberInt=function(t,e){this.vNumber(t,e,!0)},u.vNumber=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e);a&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e}(o)).prototype,"watchPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(m.prototype,"valueClamp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(m.prototype,"valueClampMode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.MIN_MAX}}),y=e(m.prototype,"valueMin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=e(m.prototype,"valueMax",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=m))||d)||d)||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/VMParent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ViewModel.ts"],(function(t){"use strict";var n,e,o,a,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.GameComponent},function(t){r=t.VM}],execute:function(){var i;e._RF.push({},"15ccciO+ZRH476sPKD/LvB7","VMParent",void 0);var s=o.ccclass,c=o.help,h=o.executionOrder;t("default",s(i=h(-1)(i=c("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMParent.md")(i=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).tag="_temp",n.data={},n.VM=r,n}n(e,t);var o=e.prototype;return o.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",r.add(this.data,this.tag);for(var n=this.getVMComponents(),e=0;e<n.length;e++){var o=n[e];this.replaceVMPath(o,this.tag)}this.onBind(),t.prototype.onLoad.call(this)}},o.onBind=function(){},o.onUnBind=function(){},o.replaceVMPath=function(t,n){var e=t.watchPath;if(1==t.templateMode){var o=t.watchPathArr;if(o)for(var a=0;a<o.length;a++){var r=o[a];o[a]=r.replace("*",n)}}else"*"===e.split(".")[0]&&(t.watchPath=e.replace("*",n))},o.getVMComponents=function(){var t=this,n=this.node.getComponentsInChildren("VMBase"),e=this.node.getComponentsInChildren("VMParent").filter((function(n){return n.uuid!==t.uuid})),o=[];return e.forEach((function(t){o=o.concat(t.getComponentsInChildren("VMBase"))})),n=n.filter((function(t){return o.indexOf(t)<0}))},o.onDestroy=function(){this.onUnBind(),r.remove(this.tag),this.data=null,t.prototype.onDestroy.call(this)},e}(a))||i)||i)||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMCustom.ts","./VMEnv.ts"],(function(t){"use strict";var e,r,a,i,n,o,s,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.CCString},function(t){l=t.StringFormatFunction},function(t){u=t.VMCustom},function(t){h=t.VMEnv}],execute:function(){var c,p,m,V,f,g,d,v,P,w;n._RF.push({},"2a50eqI7JZNV5Sh0y/Qd9C6","VMProgress",void 0);var M=o.ccclass,b=o.property,y=o.menu,A=o.help;t("default",(c=y("ModelViewer/VM-Progress (VM-进度条)"),p=A("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMProgress.md"),m=b({visible:!1,override:!0}),V=b({type:[s],tooltip:"第一个值是min 值，第二个值 是 max 值，会计算出两者的比例"}),f=b({visible:function(){return"string"===this.componentProperty},tooltip:"字符串格式化，和 VMLabel 的字段一样，需要填入对应的格式化字符串"}),M(g=c(g=p((v=e((d=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"watchPath",v,i(e)),a(e,"watchPathArr",P,i(e)),e.templateMode=!0,a(e,"stringFormat",w,i(e)),e}r(e,t);var n=e.prototype;return n.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},n.start=function(){h.editor||this.onValueInit()},n.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var r=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(r)},n.setComponentValue=function(e){if(""!==this.stringFormat){var r=l.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,r)}else t.prototype.setComponentValue.call(this,e)},n.onValueController=function(t,e){var r=Math.round(t*this.templateValueArr[1]);Number.isNaN(r)&&(r=0),this.VM.setValue(this.watchPathArr[0],r)},n.onValueChanged=function(t,e,r){if(!1!==this.templateMode){var a=r.join("."),i=this.watchPathArr.findIndex((function(t){return t===a}));i>=0&&(this.templateValueArr[i]=t);var n=this.templateValueArr[0]/this.templateValueArr[1];n>1&&(n=1),(n<0||Number.isNaN(n))&&(n=0),this.setComponentValue(n)}},e}(u)).prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=e(d.prototype,"watchPathArr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["[min]","[max]"]}}),w=e(d.prototype,"stringFormat",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=d))||g)||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./ViewModel.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,u,c,s,p,h,f,N,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Enum,u=e.CCInteger,c=e.Node,s=e.Button,p=e.Sprite,h=e.UIRenderer,f=e.color,N=e.UIOpacity},function(e){C=e.VMBase},function(e){b=e.VM}],execute:function(){var d,v,O,m,E,y,A,T,_,g,V,M,D,w,I,S,P,k,L,R,z,B,U,Y,F,X,G,j,x,H,q;a._RF.push({},"47052uw/Y5O1LXaLObj4ARx","VMState",void 0);var J,K,Q,W=r.ccclass,Z=r.property,$=r.menu,ee=r.help;!function(e){e[e["=="]=0]="==",e[e["!="]=1]="!=",e[e[">"]=2]=">",e[e[">="]=3]=">=",e[e["<"]=4]="<",e[e["<="]=5]="<=",e[e.range=6]="range"}(J||(J={})),function(e){e[e.NODE_ACTIVE=0]="NODE_ACTIVE",e[e.NODE_VISIBLE=1]="NODE_VISIBLE",e[e.NODE_OPACITY=2]="NODE_OPACITY",e[e.NODE_COLOR=3]="NODE_COLOR",e[e.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM",e[e.SPRITE_GRAYSCALE=5]="SPRITE_GRAYSCALE",e[e.BUTTON_INTERACTABLE=6]="BUTTON_INTERACTABLE"}(K||(K={})),function(e){e[e.NODE_INDEX=0]="NODE_INDEX",e[e.NODE_NAME=1]="NODE_NAME"}(Q||(Q={}));e("default",(d=$("ModelViewer/VM-State (VM状态控制)"),v=ee("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMState.md"),O=Z({tooltip:"遍历子节点,根据子节点的名字或名字转换为值，判断值满足条件 来激活"}),m=Z({type:l(J)}),E=Z({type:l(Q),tooltip:"遍历子节点,根据子节点的名字转换为值，判断值满足条件 来激活",visible:function(){return!0===this.foreachChildMode}}),y=Z({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}}),A=Z({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===J.range}}),T=Z({type:l(K),tooltip:"一旦满足条件就对节点执行操作"}),_=Z({visible:function(){return this.valueAction===K.NODE_OPACITY},range:[0,255],type:u,displayName:"Action Opacity"}),g=Z({visible:function(){return this.valueAction===K.NODE_COLOR},displayName:"Action Color"}),V=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Component Name"}),M=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Component Property"}),D=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Default Value"}),w=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Action Value"}),I=Z({type:[c],tooltip:"需要执行条件的节点，如果不填写则默认会执行本节点以及本节点的所有子节点 的状态"}),W(S=d(S=v((k=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"watchPath",k,o(t)),n(t,"foreachChildMode",L,o(t)),n(t,"condition",R,o(t)),n(t,"foreachChildType",z,o(t)),n(t,"valueA",B,o(t)),n(t,"valueB",U,o(t)),n(t,"valueAction",Y,o(t)),n(t,"valueActionOpacity",F,o(t)),n(t,"valueActionColor",X,o(t)),n(t,"valueComponentName",G,o(t)),n(t,"valueComponentProperty",j,o(t)),n(t,"valueComponentDefaultValue",x,o(t)),n(t,"valueComponentActionValue",H,o(t)),n(t,"watchNodes",q,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==K.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},a.start=function(){this.enabled&&this.onValueInit()},a.onValueInit=function(){var e=b.getValue(this.watchPath);this.checkNodeFromValue(e)},a.onValueChanged=function(e,t,i){this.checkNodeFromValue(e)},a.checkNodeFromValue=function(e){var t=this;if(this.foreachChildMode)this.watchNodes.forEach((function(i,n){var o=t.foreachChildType===Q.NODE_INDEX?n:i.name,a=t.conditionCheck(e,o);t.setNodeState(i,a)}));else{var i=this.conditionCheck(e,this.valueA,this.valueB);this.setNodesStates(i)}},a.setNodesStates=function(e){var t=this,i=this.watchNodes,n=e;i.forEach((function(e){t.setNodeState(e,n)}))},a.setNodeState=function(e,t){var i=t;switch(this.valueAction){case K.NODE_ACTIVE:e.active=!!i;break;case K.NODE_VISIBLE:var n=e.getComponent(N);null==n&&(n=e.addComponent(N)),n&&(n.opacity=i?255:0);break;case K.NODE_OPACITY:var o=e.getComponent(N);null==o&&(o=e.addComponent(N)),o&&(o.opacity=i?this.valueActionOpacity:255);break;case K.NODE_COLOR:var a=e.getComponent(h);a&&(a.color=i?this.valueActionColor:f(255,255,255));break;case K.COMPONENT_CUSTOM:var r=e.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&(r[this.valueComponentProperty]=i?this.valueComponentActionValue:this.valueComponentDefaultValue);break;case K.SPRITE_GRAYSCALE:var l=e.getComponent(p);l&&(l.grayscale=i);break;case K.BUTTON_INTERACTABLE:var u=e.getComponent(s);u&&(u.interactable=i)}},a.conditionCheck=function(e,t,i){var n=J;switch(this.condition){case n["=="]:if(e==t)return!0;break;case n["!="]:if(e!=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n[">"]:if(e>t)return!0;break;case n[">="]:if(e>=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n["<="]:if(e<=t)return!0;break;case n.range:if(e>=t&&e<=i)return!0}return!1},t}(C)).prototype,"watchPath",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(P.prototype,"foreachChildMode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(P.prototype,"condition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J["=="]}}),z=t(P.prototype,"foreachChildType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.NODE_INDEX}}),B=t(P.prototype,"valueA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"valueB",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(P.prototype,"valueAction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.NODE_ACTIVE}}),F=t(P.prototype,"valueActionOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(P.prototype,"valueActionColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(155,155,155)}}),G=t(P.prototype,"valueComponentName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=t(P.prototype,"valueComponentProperty",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(P.prototype,"valueComponentDefaultValue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=t(P.prototype,"valueComponentActionValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=t(P.prototype,"watchNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S)||S)||S));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});